(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/mte":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a("/MKj"),u=o(a("nH/0")),l=a("Y+Aq");var c=(0,i.connect)(null,(function mapDispatchToProps(t){return{onText:function onText(r,a,o,i){t((0,l.dropText)(o,i))},onError:function onError(r){return t((0,l.setError)(r))}}}))(u.default);r.default=c},"/nVi":function(t,r,a){},"0Fwj":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=LoadingIndicator;var i=o(a("17x9")),u=o(a("q1tI"));function LoadingIndicator(t){return t.visible?u.default.createElement("div",{className:"loadingIndicator cover"},u.default.createElement("div",null,u.default.createElement("i",{className:"fa fa-lg fa-spinner fa-pulse"}))):null}LoadingIndicator.propTypes={visible:i.default.bool}},"1tHF":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("7W2i")),c=o(a("a1gu")),d=o(a("Nsbk")),p=o(a("17x9")),v=o(a("q1tI")),g=o(a("wc6d"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,d.default)(t);if(r){var i=(0,d.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,c.default)(this,a)}}var h=function(t){(0,l.default)(ForkButton,t);var r=_createSuper(ForkButton);function ForkButton(){return(0,i.default)(this,ForkButton),r.apply(this,arguments)}return(0,u.default)(ForkButton,[{key:"render",value:function render(){var t=this.props,r=t.canFork,a=t.saving,o=t.forking,i=t.onFork;return v.default.createElement("button",{type:"button",disabled:!r||a||o,onClick:i},v.default.createElement("i",{className:(0,g.default)({fa:!0,"fa-spinner":o,"fa-pulse":o,"fa-code-fork":!o,"fa-fw":!0})})," Fork")}}]),ForkButton}(v.default.Component);r.default=h,h.propTypes={canFork:p.default.bool,saving:p.default.bool,forking:p.default.bool,onFork:p.default.func}},"2P0N":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=ElementContainer;var i=o(a("pVnL")),u=o(a("cDf5")),l=o(a("J4zp")),c=o(a("l7tp")),d=o(a("3Er1")),p=o(a("17x9")),v=a("rUgn"),g=o(a("q1tI")),h=a("bcnC"),m=o(a("ZV2z")),y=o(a("wc6d")),S=o(a("xeTH")),_=g.default.useState,E=g.default.useRef,b=g.default.useMemo,T=g.default.useCallback,R=g.default.useEffect;function usePrevious(t,r){var a=E(r);return R((function(){a.current=t})),a.current}var k=0,C=1,P=2,O=3,w=4,N=2,j=3,D=4;function transition(t,r){switch(t){case k:case w:switch(r){case D:return P;case N:return O;case j:return k}break;case C:switch(r){case D:return P;case N:case j:return t}break;case P:return P;case O:switch(r){case N:return O;case j:return k;case D:return P}}}var I=g.default.memo((function Element(t){var r=t.name,a=t.value,o=t.computed,i=t.open,p=t.level,h=t.treeAdapter,S=t.autofocus,O=t.isInRange,I=t.hasChildrenInRange,A=t.selected,W=t.onClick,q=t.position,B=b((function(){return h.opensByDefault(a,r)}),[h,a,r])||0===p,H=function useOpenState(t,r){var a=usePrevious(t,!1),o=usePrevious(r,!1),i=_(k),u=(0,l.default)(i,2),c=u[0],d=u[1],p=usePrevious(c,k),v=E(k),g=v.current;return c!==p?g=c:o!==r?(g=transition(v.current,r&&!o?N:j),!r&&o&&c===w&&d(k)):t&&!a&&(g=transition(v.current,D)),R((function(){v.current=g})),[g,d]}(i,S&&(O||I)),G=(0,l.default)(H,2),K=G[0],U=G[1],J=E();S&&O&&!I&&(0,m.default)("add",J);var V,Y,z=K===k?B:K!==w,X=T((function(t){var r=t.shiftKey?P:z?w:C;W&&W(r,!0),U(r)}),[W,z]),Z=h.getRange(a);Z&&0!==p&&(V=function onMouseOver(t){t.stopPropagation(),(0,v.publish)("HIGHLIGHT",{node:a,range:Z})},Y=function onMouseLeave(t){t.stopPropagation(),(0,v.publish)("CLEAR_HIGHLIGHT",{node:a,range:Z})});var $=T((function(){U(C),W&&W(C)}),[W]);function renderChild(t,r,a,o,i){if(h.isArray(r)||h.isObject(r)||"function"==typeof r){var u="function"==typeof r?M:ElementContainer;return g.default.createElement(u,{key:t,name:o,open:K===P,value:r,computed:i,level:p+1,treeAdapter:h,autofocus:S,parent:a,onClick:$,position:q})}return g.default.createElement(L,{key:t,name:o,value:r,computed:i})}var Q=null,ee=null,te=null,re=null,ne=!1;if(a&&"object"===(0,u.default)(a)){if(!h.isArray(a)){var ae=h.getNodeName(a);ae&&(Q=g.default.createElement("span",{className:"tokenName nc",onClick:X},ae," ",A?g.default.createElement("span",{className:"ge",style:{fontSize:"0.8em"}}," = $node"):null))}if("number"==typeof a.length){if(a.length>0&&z){te="[",re="]";var oe=a,ie=Array.from(h.walkNode(a)).filter((function(t){return"length"!==t.key})).map((function(t){var r=t.key,a=t.value,o=t.computed;return renderChild(r,a,oe,Number.isInteger(+r)?void 0:r,o)}));ee=g.default.createElement("ul",{className:"value-body"},ie)}else Q=g.default.createElement("span",null,Q,g.default.createElement(c.default,{array:a,onClick:X}));ne=a.length>0}else if(z){te="{",re="}";var ue=a,le=Array.from(h.walkNode(a)).map((function(t){var r=t.key,a=t.value,o=t.computed;return renderChild(r,a,ue,r,o)}));ee=g.default.createElement("ul",{className:"value-body"},le),ne=le.length>0}else{var se=Array.from(h.walkNode(a),(function(t){return t.key}));Q=g.default.createElement("span",null,Q,g.default.createElement(d.default,{onClick:X,keys:se})),ne=se.length>0}}var ce=(0,y.default)({entry:!0,highlighted:O&&(!I||!z)||!O&&I&&!z,toggable:ne,open:z});return g.default.createElement("li",{ref:J,className:ce,onMouseOver:V,onMouseLeave:Y},r?g.default.createElement(x,{name:r,computed:o,onClick:X}):null,g.default.createElement("span",{className:"value"},Q),te?g.default.createElement("span",{className:"prefix p"}," ",te):null,ee,re?g.default.createElement("div",{className:"suffix p"},re):null)}),(function(t,r){return t.name===r.name&&t.value===r.value&&t.computed===r.computed&&t.open===r.open&&t.level===r.level&&t.treeAdapter===r.treeAdapter&&t.autofocus===r.autofocus&&t.selected===r.selected&&t.onClick===r.onClick&&t.isInRange===r.isInRange&&t.hasChildrenInRange===r.hasChildrenInRange&&(r.isInRange||r.hashChildrenInRange)&&t.position===r.position}));I.propTypes={name:p.default.string,value:p.default.any,computed:p.default.bool,open:p.default.bool,level:p.default.number,treeAdapter:p.default.object.isRequired,autofocus:p.default.bool,parent:p.default.oneOfType([p.default.object,p.default.array])};var A={},M=g.default.memo((function FunctionElement(t){var r=_(A),a=(0,l.default)(r,2),o=a[0],u=a[1],c=_(null),d=(0,l.default)(c,2),p=d[0],v=d[1],h=t.name,m=t.value,y=t.parent,S=t.computed,E=t.treeAdapter;return o!==A?E.isArray(o)||E.isObject(o)?g.default.createElement(ElementContainer,(0,i.default)({},t,{value:o,level:t.level+1})):g.default.createElement(L,{name:h,value:o,computed:S}):g.default.createElement("li",{className:"entry"},h?g.default.createElement(x,{name:h,computed:S}):null,g.default.createElement("span",{className:"value"},g.default.createElement("span",{className:"ge invokeable",title:"Click to invoke function",onClick:function onClick(){try{var t=m.call(y);console.log(t),u(t)}catch(t){console.error('Unable to run "'.concat(h,'": '),t.message),v(t)}}},"(...)")),p?g.default.createElement("span",null," ",g.default.createElement("i",{title:p.message,className:"fa fa-exclamation-triangle"})):null)}));M.propTypes=I.propTypes;var L=g.default.memo((function PrimitiveElement(t){var r=t.name,a=t.value,o=t.computed;return g.default.createElement("li",{className:"entry"},r?g.default.createElement(x,{name:r,computed:o}):null,g.default.createElement("span",{className:"value"},g.default.createElement("span",{className:"s"},(0,S.default)(a))))}));L.propTypes={name:p.default.string,value:p.default.any,computed:p.default.bool};var x=g.default.memo((function PropertyName(t){var r=t.name,a=t.computed,o=t.onClick;return g.default.createElement("span",{className:"key"},g.default.createElement("span",{className:"name nb",onClick:o},a?g.default.createElement("span",{title:"computed"},"*",r):r),g.default.createElement("span",{className:"p"},": "))}));function ElementContainer(t){var r=_(!1),a=(0,l.default)(r,2),o=a[0],u=a[1],c=(0,h.useSelectedNode)(),d=t.treeAdapter.isInRange(t.value,t.name,t.position),p=T((function(r,a){a&&(r===w?(c(null),u(!1)):(c(t.value,(function(){return u(!1)})),u(!0))),t.onClick&&t.onClick(r)}),[t.value,t.onClick]);return g.default.createElement(I,(0,i.default)({},t,{selected:o,hasChildrenInRange:t.treeAdapter.hasChildrenInRange(t.value,t.name,t.position),isInRange:d,onClick:p}))}x.propTypes={name:p.default.string,computed:p.default.bool,onClick:p.default.func},ElementContainer.propTypes=I.propTypes},"3Er1":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=CompactObjectView;var i=o(a("17x9")),u=o(a("q1tI"));function CompactObjectView(t){var r=t.keys,a=t.onClick;return 0===r.length?u.default.createElement("span",{className:"p"},"{ }"):(r.length>5&&(r=r.slice(0,5).concat(["... +".concat(r.length-5)])),u.default.createElement("span",null,u.default.createElement("span",{className:"p"},"{"),u.default.createElement("span",{className:"compact placeholder ge",onClick:a},r.join(", ")),u.default.createElement("span",{className:"p"},"}")))}CompactObjectView.propTypes={keys:i.default.arrayOf(i.default.string).isRequired,onClick:i.default.func}},"5KZM":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=ShareButton;var i=o(a("17x9")),u=o(a("q1tI"));function ShareButton(t){var r=t.onShareButtonClick,a=t.snippet;return u.default.createElement("button",{type:"button",disabled:!a,onClick:r},u.default.createElement("i",{className:"fa fa-share fa-fw"})," Share...")}ShareButton.propTypes={onShareButtonClick:i.default.func.isRequired,snippet:i.default.object}},"5Vml":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a("/MKj"),u=a("Y+Aq"),l=a("d3et"),c=o(a("fQDW"));var d=(0,i.connect)((function mapStateToProps(t){return{visible:(0,l.showSettingsDialog)(t),parser:(0,l.getParser)(t),parserSettings:(0,l.getParserSettings)(t)}}),(function mapDispatchToProps(t){return{onSave:function onSave(r,a){return t((0,u.setParserSettings)(a))},onWantToClose:function onWantToClose(){return t((0,u.closeSettingsDialog)())}}}))(c.default);r.default=d},"5bXW":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=Toolbar;var i=o(a("17x9")),u=o(a("q1tI")),l=o(a("cL48")),c=o(a("K+0+")),d=o(a("UObX")),p=o(a("QHvK")),v=o(a("Hmj2"));function Toolbar(t){var r=t.parser,a=t.transformer,o=t.showTransformer,i=r.displayName,g="";return r&&(r.version&&(i+="-"+r.version),r.homepage&&(i=u.default.createElement("a",{href:r.homepage,target:"_blank",rel:"noopener noreferrer"},i))),o&&(g=a.displayName,a.version&&(g+="-"+a.version),a.homepage&&(g=u.default.createElement("a",{href:a.homepage,target:"_blank",rel:"noopener noreferrer"},g)),g=u.default.createElement("span",null,"Transformer: ",g)),u.default.createElement("div",{id:"Toolbar"},u.default.createElement("h1",null,"AST Explorer"),u.default.createElement(d.default,t),u.default.createElement(l.default,t),u.default.createElement(c.default,t),u.default.createElement(p.default,t),u.default.createElement(v.default,t),u.default.createElement("a",{style:{minWidth:0},target:"_blank",rel:"noopener noreferrer",title:"Help",href:"https://github.com/fkling/astexplorer/blob/master/README.md"},u.default.createElement("i",{className:"fa fa-lg fa-question fa-fw"})),u.default.createElement("div",{id:"info",className:g?"small":""},"Parser: ",i,u.default.createElement("br",null),g))}Toolbar.propTypes={saving:i.default.bool,forking:i.default.bool,onSave:i.default.func,onFork:i.default.func,onParserChange:i.default.func,onParserSettingsButtonClick:i.default.func,onShareButtonClick:i.default.func,onTransformChange:i.default.func,onKeyMapChange:i.default.func,parser:i.default.object,transformer:i.default.object,showTransformer:i.default.bool,canSave:i.default.bool,canFork:i.default.bool}},"5obP":function(t,r,a){"use strict";(function(t){var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.owns=function owns(t){return t instanceof p},r.matchesURL=function matchesURL(){return null!==getIDAndRevisionFromHash()},r.updateHash=function updateHash(r){var a=r.getRevisionID(),o="/"+r.getSnippetID()+(a&&0!==a?"/"+a:"");t.location.hash=o},r.fetchFromURL=function fetchFromURL(){var t=getIDAndRevisionFromHash();if(t)return function fetchSnippet(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";return(0,c.default)("/parse/".concat(t,"/").concat(r)).then((function(a){if(a.ok)return a.json();switch(a.status){case 404:throw new Error("Snippet with ID ".concat(t,"/").concat(r," doesn't exist."));default:throw new Error("Unknown error.")}})).then((function(t){return new p(t)}))}(t.id,t.rev);return Promise.resolve(null)},r.create=function create(){return Promise.reject(new Error("Saving Parse snippets is not supported anymore."))},r.update=function update(){return Promise.reject(new Error("Saving Parse snippets is not supported anymore."))},r.fork=function fork(){return Promise.reject(new Error("Saving Parse snippets is not supported anymore."))};var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("q1tI")),c=o(a("X32/")),d=a("hN6J");function getIDAndRevisionFromHash(){var r=t.location.hash.match(/^#\/(?!gist\/)([^/]+)(?:\/(latest|\d*))?/);return r?{id:r[1],rev:r[2]||0}:null}var p=function(){function Revision(t){(0,i.default)(this,Revision),this._data=t}return(0,u.default)(Revision,[{key:"canSave",value:function canSave(){return!1}},{key:"getPath",value:function getPath(){var t=this.getRevisionID();return"/"+this.getSnippetID()+(t&&0!==t?"/"+t:"")}},{key:"getSnippetID",value:function getSnippetID(){return this._data.snippetID}},{key:"getRevisionID",value:function getRevisionID(){return this._data.revisionID}},{key:"getTransformerID",value:function getTransformerID(){var t=this._data.toolID;return!t&&this.getTransformCode()?"jscodeshift":t}},{key:"getTransformCode",value:function getTransformCode(){var t=this._data.transform;return t||(this._data.toolID?(0,d.getTransformerByID)(this._data.toolID).defaultTransform:"")}},{key:"getParserID",value:function getParserID(){var t=this.getTransformerID();return t?(0,d.getTransformerByID)(t).defaultParserID:this._data.parserID}},{key:"getCode",value:function getCode(){var t=this.getParserID();return this._data.code||(0,d.getParserByID)(t).category.codeExample}},{key:"getParserSettings",value:function getParserSettings(){var t=this._data.settings;if(!t)return null;var r=t[this.getParserID()];return!!r&&JSON.parse(r)}},{key:"getShareInfo",value:function getShareInfo(){var t=this.getSnippetID(),r=this.getRevisionID();return l.default.createElement("div",{className:"shareInfo"},l.default.createElement("dl",null,l.default.createElement("dt",null,"Current Revision"),l.default.createElement("dd",null,l.default.createElement("input",{readOnly:!0,onFocus:function onFocus(t){return t.target.select()},value:"https://astexplorer.net/#/gist/".concat(t,"/").concat(r)})),l.default.createElement("dt",null,"Latest Revision"),l.default.createElement("dd",null,l.default.createElement("input",{readOnly:!0,onFocus:function onFocus(t){return t.target.select()},value:"https://astexplorer.net/#/gist/".concat(t,"/latest")}))))}}]),Revision}()}).call(this,a("yLpj"))},"6YtK":function(t,r,a){var o={"./js/babylon7.js":"RtKg","./js/codeExample.txt":"LHoJ","./js/index.js":"KRaV","./js/transformers/babel7/codeExample.txt":"D2nm","./js/transformers/babel7/index.js":"qLTj"};function webpackContext(t){var r=webpackContextResolve(t);return a(r)}function webpackContextResolve(t){if(!a.o(o,t)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return o[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(o)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id="6YtK"},"9h1d":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("J4zp")),u=o(a("lwsE")),l=o(a("W8MJ")),c=o(a("7W2i")),d=o(a("a1gu")),p=o(a("Nsbk")),v=o(a("VrN/"));a("dfh3"),a("Lm6R"),a("mki7");var g=o(a("17x9")),h=a("rUgn"),m=o(a("q1tI"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,p.default)(t);if(r){var i=(0,p.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,d.default)(this,a)}}var y={printWidth:80,tabWidth:2,singleQuote:!1,trailingComma:"none",bracketSpacing:!0,jsxBracketSameLine:!1,parser:"babel"},S=function(t){(0,c.default)(Editor,t);var r=_createSuper(Editor);function Editor(t){var a;return(0,u.default)(this,Editor),(a=r.call(this,t)).state={value:t.value},a}return(0,l.default)(Editor,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){var r=this;t.value!==this.state.value&&this.setState({value:t.value},(function(){return r.codeMirror.setValue(t.value)})),t.mode!==this.props.mode&&this.codeMirror.setOption("mode",t.mode),t.keyMap!==this.props.keyMap&&this.codeMirror.setOption("keyMap",t.keyMap),this._setError(t.error)}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!1}},{key:"getValue",value:function getValue(){return this.codeMirror&&this.codeMirror.getValue()}},{key:"_getErrorLine",value:function _getErrorLine(t){return t.loc?t.loc.line:t.lineNumber||t.line}},{key:"_setError",value:function _setError(t){if(this.codeMirror){var r=this.props.error;if(r){var a=this._getErrorLine(r);a&&this.codeMirror.removeLineClass(a-1,"text","errorMarker")}if(t){var o=this._getErrorLine(t);o&&this.codeMirror.addLineClass(o-1,"text","errorMarker")}}}},{key:"_posFromIndex",value:function _posFromIndex(t,r){return(this.props.posFromIndex?this.props:t).posFromIndex(r)}},{key:"componentDidMount",value:function componentDidMount(){var t=this;this._CMHandlers=[],this._subscriptions=[],this.codeMirror=(0,v.default)(this.container,{keyMap:this.props.keyMap,value:this.state.value,mode:this.props.mode,lineNumbers:this.props.lineNumbers,readOnly:this.props.readOnly}),this._bindCMHandler("blur",(function(r){t.props.enableFormatting&&a.e(7).then((function(){var t=[a("MlsZ"),a("YQPV")];(function(t,a){var o=r.doc.getValue(),i=Object.assign({},y,{printWidth:r.display.maxLineLength,plugins:[a]});r.doc.setValue(t.format(o,i))}).apply(null,t)})).catch(a.oe)})),this._bindCMHandler("changes",(function(){clearTimeout(t._updateTimer),t._updateTimer=setTimeout(t._onContentChange.bind(t),200)})),this._bindCMHandler("cursorActivity",(function(){clearTimeout(t._updateTimer),t._updateTimer=setTimeout(t._onActivity.bind(t,!0),100)})),this._subscriptions.push((0,h.subscribe)("PANEL_RESIZE",(function(){t.codeMirror&&t.codeMirror.refresh()}))),this.props.highlight&&(this._markerRange=null,this._mark=null,this._subscriptions.push((0,h.subscribe)("HIGHLIGHT",(function(r){var a=r.range;if(a){var o=t.codeMirror.getDoc();t._markerRange=a,t._mark&&t._mark.clear();var u=a.map((function(r){return t._posFromIndex(o,r)})),l=(0,i.default)(u,2),c=l[0],d=l[1];c&&d?t._mark=t.codeMirror.markText(c,d,{className:"marked"}):t._markerRange=t._mark=null}})),(0,h.subscribe)("CLEAR_HIGHLIGHT",(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.range;(!a||t._markerRange&&a[0]===t._markerRange[0]&&a[1]===t._markerRange[1])&&(t._markerRange=null,t._mark&&(t._mark.clear(),t._mark=null))})))),this.props.error&&this._setError(this.props.error)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this._updateTimer),this._unbindHandlers(),this._markerRange=null,this._mark=null;var t=this.container;t.removeChild(t.children[0]),this.codeMirror=null}},{key:"_bindCMHandler",value:function _bindCMHandler(t,r){this._CMHandlers.push(t,r),this.codeMirror.on(t,r)}},{key:"_unbindHandlers",value:function _unbindHandlers(){for(var t=this._CMHandlers,r=0;r<t.length;r+=2)this.codeMirror.off(t[r],t[r+1]);(0,h.clear)(this._subscriptions)}},{key:"_onContentChange",value:function _onContentChange(){var t=this,r=this.codeMirror.getDoc(),a={value:r.getValue(),cursor:r.indexFromPos(r.getCursor())};this.setState({value:a.value},(function(){return t.props.onContentChange(a)}))}},{key:"_onActivity",value:function _onActivity(){this.props.onActivity(this.codeMirror.getDoc().indexFromPos(this.codeMirror.getCursor()))}},{key:"render",value:function render(){var t=this;return m.default.createElement("div",{className:"editor",ref:function ref(r){return t.container=r}})}}]),Editor}(m.default.Component);r.default=S,S.propTypes={value:g.default.string,highlight:g.default.bool,lineNumbers:g.default.bool,readOnly:g.default.bool,onContentChange:g.default.func,onActivity:g.default.func,posFromIndex:g.default.func,error:g.default.object,mode:g.default.string,enableFormatting:g.default.bool,keyMap:g.default.string},S.defaultProps={value:"",highlight:!0,lineNumbers:!0,readOnly:!1,mode:"javascript",keyMap:"default",onContentChange:function onContentChange(){},onActivity:function onActivity(){}}},C4TL:function(t,r,a){},DcZd:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("7W2i")),c=o(a("a1gu")),d=o(a("Nsbk")),p=o(a("17x9")),v=o(a("q1tI"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,d.default)(t);if(r){var i=(0,d.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,c.default)(this,a)}}var g=function(t){(0,l.default)(ErrorMessage,t);var r=_createSuper(ErrorMessage);function ErrorMessage(){return(0,i.default)(this,ErrorMessage),r.apply(this,arguments)}return(0,u.default)(ErrorMessage,[{key:"render",value:function render(){return this.props.error?v.default.createElement("div",{className:"cover"},v.default.createElement("div",{className:"errorMessage"},v.default.createElement("h3",null,v.default.createElement("i",{className:"fa fa-exclamation-triangle"})," ","Error"),v.default.createElement("div",null,this.props.error.message),v.default.createElement("div",{style:{marginTop:15}},v.default.createElement("button",{type:"button",onClick:this.props.onWantToClose},"OK")))):null}}]),ErrorMessage}(v.default.Component);r.default=g,g.propTypes={error:p.default.object,onWantToClose:p.default.func}},ERIh:function(t,r,a){"use strict";(function(t){var r=a("TqRt"),o=a("cDf5"),i=_interopRequireWildcard(a("r/dV")),u=r(a("LTuh")),l=r(a("ts5B")),c=r(a("Ehmz")),d=r(a("W7TN")),p=r(a("RCJa")),v=r(a("/mte")),g=r(a("17x9")),h=a("rUgn"),m=_interopRequireWildcard(a("q1tI")),y=r(a("5Vml")),S=r(a("rLSY")),_=r(a("vj7y")),E=r(a("Foq9")),b=r(a("uo2T")),T=r(a("IMrR")),R=a("/MKj"),k=a("Sl1E"),C=a("ANjH"),P=a("d3et"),O=a("Y+Aq"),w=a("i8i4"),N=_interopRequireWildcard(a("RA28")),j=_interopRequireWildcard(a("5obP")),D=r(a("mLOA"));a("/nVi");var I=r(a("L4dt")),A=r(a("H9hi")),M=r(a("GV5A")),L=r(a("wc6d"));function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(i,l,c):i[l]=t[l]}return i.default=t,a&&a.set(t,i),i}function resize(){(0,h.publish)("PANEL_RESIZE")}function App(t){var r=t.showTransformer,a=t.hasError;return m.createElement(m.Fragment,null,m.createElement(c.default,null),m.createElement(v.default,{id:"main",className:(0,L.default)({hasError:a})},m.createElement(p.default,null),m.createElement(y.default,null),m.createElement(S.default,null),m.createElement(E.default,null),m.createElement(d.default,null),m.createElement(_.default,{className:"splitpane-content",vertical:!0,onResize:resize},m.createElement(_.default,{className:"splitpane",onResize:resize},m.createElement(l.default,null),m.createElement(u.default,null)),r?m.createElement(b.default,null):null)))}App.propTypes={hasError:g.default.bool,showTransformer:g.default.bool};var x=(0,R.connect)((function(t){return{showTransformer:t.showTransformPanel,hasError:!!t.error}}))(App),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.compose,q=new D.default([N,j]),B=(0,C.createStore)(k.astexplorer,(0,k.revive)(i.readState()),W((0,C.applyMiddleware)((0,A.default)(q),I.default,M.default)));B.subscribe((0,T.default)((function(){var t=B.getState();(0,P.getRevision)(t)||i.writeState((0,k.persist)(t))}))),B.dispatch({type:"INIT"}),(0,w.render)(m.createElement(R.Provider,{store:B},m.createElement(x,null)),document.getElementById("container")),t.onhashchange=function(){B.dispatch((0,O.loadSnippet)())},location.hash.length>1&&B.dispatch((0,O.loadSnippet)()),t.onbeforeunload=function(){var t=B.getState();if((0,P.canSaveTransform)(t))return"You have unsaved transform code. Do you really want to leave?"}}).call(this,a("yLpj"))},Ehmz:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a("/MKj"),u=o(a("DcZd")),l=a("Y+Aq"),c=a("d3et");var d=(0,i.connect)((function mapStateToProps(t){return{error:(0,c.getError)(t)}}),(function mapDispatchToProps(t){return{onWantToClose:function onWantToClose(){return t((0,l.clearError)())}}}))(u.default);r.default=d},Foq9:function(t,r,a){"use strict";(function(t){var o=a("TqRt"),i=a("cDf5");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=a("/MKj"),l=a("Y+Aq"),c=o(a("5bXW")),d=function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,a&&a.set(t,o);return o}(a("d3et")),p=a("gjtA");function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}var v=(0,u.connect)((function mapStateToProps(t){var r=d.getParser(t);return{forking:d.isForking(t),saving:d.isSaving(t),canSave:d.canSave(t),canFork:d.canFork(t),category:r.category,parser:r,transformer:d.getTransformer(t),keyMap:d.getKeyMap(t),showTransformer:d.showTransformer(t),snippet:d.getRevision(t)}}),(function mapDispatchToProps(r){return{onParserChange:function onParserChange(t){r((0,l.setParser)(t)),(0,p.logEvent)("parser","select",t.id)},onCategoryChange:function onCategoryChange(t){r((0,l.selectCategory)(t)),(0,p.logEvent)("category","select",t.id)},onParserSettingsButtonClick:function onParserSettingsButtonClick(){r((0,l.openSettingsDialog)()),(0,p.logEvent)("parser","open_settings")},onShareButtonClick:function onShareButtonClick(){r((0,l.openShareDialog)()),(0,p.logEvent)("ui","open_share")},onTransformChange:function onTransformChange(t){r(t?(0,l.selectTransformer)(t):(0,l.hideTransformer)()),t&&(0,p.logEvent)("tool","select",t.id)},onKeyMapChange:function onKeyMapChange(t){r((0,l.setKeyMap)(t)),t&&(0,p.logEvent)("keyMap",t)},onSave:function onSave(){return r((0,l.save)(!1))},onFork:function onFork(){return r((0,l.save)(!0))},onNew:function onNew(){t.location.hash?t.location.hash="":r((0,l.reset)())}}}))(c.default);r.default=v}).call(this,a("yLpj"))},GV5A:function(t,r,a){"use strict";(function(t){var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("o0o1")),u=o(a("yXPU")),l=a("d3et"),c=a("qJsZ");function transform(t,r,a){return _transform.apply(this,arguments)}function _transform(){return(_transform=(0,u.default)(i.default.mark((function _callee2(r,a,o){var u,l,d;return i.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return t.__filename||(t.__filename="transform.js"),r._promise||(r._promise=new Promise(r.loadTransformer)),i.prev=2,i.next=5,r._promise;case 5:return u=i.sent,i.next=8,r.transform(u,a,o);case 8:return l=i.sent,d=null,"string"!=typeof l&&(l.map&&(d=new c.SourceMapConsumer(l.map)),l=l.code),i.abrupt("return",{result:l,map:d,version:u.version,error:null});case 14:return i.prev=14,i.t0=i.catch(2),i.abrupt("return",{error:i.t0,version:u?u.version:""});case 17:case"end":return i.stop()}}),_callee2,null,[[2,14]])})))).apply(this,arguments)}r.default=function _default(t){return function(r){return function(){var a=(0,u.default)(i.default.mark((function _callee(a){var o,u,c,d,p,v,g;return i.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(o=t.getState(),r(a),u=t.getState(),c=(0,l.showTransformer)(u)){i.next=6;break}return i.abrupt("return");case 6:if(d=(0,l.getTransformer)(u),p=(0,l.getTransformCode)(u),v=(0,l.getCode)(u),"INIT"!==a.type&&c==(0,l.showTransformer)(o)&&(0,l.getTransformer)(o)===d&&(0,l.getTransformCode)(o)===p&&(0,l.getCode)(o)===v){i.next=26;break}if(d&&null!=v){i.next=12;break}return i.abrupt("return");case 12:return console.clear&&console.clear(),i.prev=13,i.next=16,transform(d,p,v);case 16:g=i.sent,i.next=22;break;case 19:i.prev=19,i.t0=i.catch(13),g={error:i.t0};case 22:if(d===(0,l.getTransformer)(t.getState())&&p===(0,l.getTransformCode)(t.getState())&&v===(0,l.getCode)(t.getState())){i.next=24;break}return i.abrupt("return");case 24:g.error&&console.error(g.error),r({type:"SET_TRANSFORM_RESULT",result:g});case 26:case"end":return i.stop()}}),_callee,null,[[13,19]])})));return function(t){return a.apply(this,arguments)}}()}}}).call(this,a("yLpj"))},H9hi:function(t,r,a){"use strict";(function(t){var o=a("TqRt"),i=a("cDf5");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=o(a("o0o1")),l=o(a("lSNA")),c=o(a("yXPU")),d=_interopRequireWildcard(a("d3et")),p=_interopRequireWildcard(a("Y+Aq")),v=a("gjtA");function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}return o.default=t,a&&a.set(t,o),o}var g=!1,h=function cancelLoad(){};function _loadSnippet(){return(_loadSnippet=(0,c.default)(u.default.mark((function _callee(t,r,a){var o,i,l;return u.default.wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:if(!d.isSaving(t)&&!d.isForking(t)){u.next=2;break}return u.abrupt("return");case 2:return h(),g=!1,r(p.setError(null)),r(p.startLoadingSnippet()),u.prev=6,o=!1,h=function cancelLoad(){return o=!0},u.next=11,a.fetchFromURL();case 11:i=u.sent,o||(i?((0,v.logEvent)("snippet","load"),r(p.setSnippet(i))):r(p.clearSnippet())),u.next=21;break;case 15:u.prev=15,u.t0=u.catch(6),l="Failed to fetch revision: "+u.t0.message,(0,v.logError)(l),g=!0,r(p.setError(new Error(l)));case 21:return u.prev=21,r(p.doneLoadingSnippet()),u.finish(21);case 24:case"end":return u.stop()}}),_callee,null,[[6,15,21,24]])})))).apply(this,arguments)}function _saveSnippet(){return(_saveSnippet=(0,c.default)(u.default.mark((function _callee2(t,r,a,o){var i,c,g,h,m,y,S,_,E,b,T;return u.default.wrap((function _callee2$(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.fork,c=d.getRevision(r),g=d.getParser(r),h=d.getParserSettings(r),m=d.getCode(r),y=d.getTransformCode(r),S=d.getTransformer(r),_=d.showTransformer(r),E=i?"fork":c?"new_revision":"create",b={parserID:g.id,settings:(0,l.default)({},g.id,h),versions:(0,l.default)({},g.id,g.version),filename:"source.".concat(g.category.fileExtension),code:m},_&&S&&(b.toolID=S.id,b.versions[S.id]=S.version,b.transform=y),(0,v.logEvent)("snippet",E,b.toolID),u.prev=12,!i){u.next=19;break}return u.next=16,o.fork(c,b);case 16:T=u.sent,u.next=28;break;case 19:if(!c){u.next=25;break}return u.next=22,o.update(c,b);case 22:T=u.sent,u.next=28;break;case 25:return u.next=27,o.create(b);case 27:T=u.sent;case 28:T&&o.updateHash(T),u.next=35;break;case 31:u.prev=31,u.t0=u.catch(12),(0,v.logError)(u.t0.message),a(p.setError(u.t0));case 35:case"end":return u.stop()}}),_callee2,null,[[12,31]])})))).apply(this,arguments)}r.default=function _default(r){return function(a){return function(o){return function(i){switch(i.type){case p.CLEAR_ERROR:return g&&(g=!1,t.location.hash=""),o(i);case p.LOAD_SNIPPET:return function loadSnippet(t,r,a){return _loadSnippet.apply(this,arguments)}(a.getState(),o,r);case p.SAVE:o(p.startSave(i.fork)),function saveSnippet(t,r,a,o){return _saveSnippet.apply(this,arguments)}(i,a.getState(),o,r).then((function(){return o(p.endSave(i.fork))}));break;default:return o(i)}}}}}}).call(this,a("yLpj"))},Hmj2:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("7W2i")),c=o(a("a1gu")),d=o(a("Nsbk")),p=o(a("17x9")),v=o(a("q1tI")),g=o(a("wc6d"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,d.default)(t);if(r){var i=(0,d.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,c.default)(this,a)}}var h=["default","vim","emacs","sublime"],m=function(t){(0,l.default)(KeyMapButton,t);var r=_createSuper(KeyMapButton);function KeyMapButton(){return(0,i.default)(this,KeyMapButton),r.apply(this,arguments)}return(0,u.default)(KeyMapButton,[{key:"render",value:function render(){var t=this;return v.default.createElement("div",{className:(0,g.default)({button:!0,menuButton:!0})},v.default.createElement("button",{type:"button"},v.default.createElement("i",{className:(0,g.default)({fa:!0,"fa-lg":!0,"fa-keyboard-o":!0})})," ",this.props.keyMap),v.default.createElement("ul",null,h.map((function(r){return v.default.createElement("li",{key:r,disabled:t.props.keyMap===r,onClick:function onClick(){return t.props.onKeyMapChange(r)}},v.default.createElement("button",{type:"button"},r))}))))}}]),KeyMapButton}(v.default.Component);m.propTypes={onKeyMapChange:p.default.func,keyMap:p.default.string};var y=m;r.default=y},IMrR:function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function debounce(t){var r,a,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){o=this;for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];a=l,r||(r=setTimeout((function(){r=null,t.apply(o,a)}),i))}}},"K+0+":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("PJYZ")),c=o(a("7W2i")),d=o(a("a1gu")),p=o(a("Nsbk")),v=o(a("17x9")),g=o(a("q1tI")),h=a("hN6J");function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,p.default)(t);if(r){var i=(0,p.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,d.default)(this,a)}}var m=function(t){(0,c.default)(ParserButton,t);var r=_createSuper(ParserButton);function ParserButton(t){var a;return(0,i.default)(this,ParserButton),(a=r.call(this,t))._onClick=a._onClick.bind((0,l.default)(a)),a}return(0,u.default)(ParserButton,[{key:"_onClick",value:function _onClick(t){var r=t.currentTarget.getAttribute("data-id");this.props.onParserChange((0,h.getParserByID)(r))}},{key:"render",value:function render(){var t=this,r=this.props.category.parsers.filter((function(t){return t.showInMenu}));return g.default.createElement("div",{className:"button menuButton"},g.default.createElement("span",null,g.default.createElement("i",{className:"fa fa-lg fa-code fa-fw"})," ",this.props.parser.displayName),g.default.createElement("ul",null,r.map((function(r){return g.default.createElement("li",{key:r.id,onClick:t._onClick,"data-id":r.id},g.default.createElement("button",{type:"button"},r.displayName))}))),g.default.createElement("button",{type:"button",title:"Parser Settings",style:{minWidth:0},disabled:!this.props.parser.hasSettings(),onClick:this.props.onParserSettingsButtonClick},g.default.createElement("i",{className:"fa fa-cog fa-fw"})))}}]),ParserButton}(g.default.Component);r.default=m,m.propTypes={onParserChange:v.default.func,onParserSettingsButtonClick:v.default.func,parser:v.default.object,category:v.default.object}},"K+NS":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.ignoreKeysFilter=ignoreKeysFilter,r.locationInformationFilter=locationInformationFilter,r.functionFilter=functionFilter,r.emptyKeysFilter=emptyKeysFilter,r.typeKeysFilter=typeKeysFilter,r.treeAdapterFromParseResult=function treeAdapterFromParseResult(t,r){var a=t.treeAdapter;return function createTreeAdapter(t,r,a){if(null==p[t])throw new Error('Unknown tree adapter type "'.concat(t,'"'));return new d(Object.assign({},p[t],r),a)}(a.type,a.options,r)};var i=o(a("o0o1")),u=o(a("cDf5")),l=o(a("lwsE")),c=o(a("W8MJ"));function _createForOfIteratorHelper(t,r){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,c=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return l=t.done,t},e:function e(t){c=!0,u=t},f:function f(){try{l||null==a.return||a.return()}finally{if(c)throw u}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=t[a];return o}var d=function(){function TreeAdapter(t,r){(0,l.default)(this,TreeAdapter),this._ranges=new WeakMap,this._filterValues=r,this._adapterOptions=t}return(0,c.default)(TreeAdapter,[{key:"getConfigurableFilters",value:function getConfigurableFilters(){return(this._adapterOptions.filters||[]).filter((function(t){return Boolean(t.key)}))}},{key:"getNodeName",value:function getNodeName(t){return this._adapterOptions.nodeToName(t)}},{key:"getRange",value:function getRange(t){if(null==t)return null;if(this._ranges.has(t))return this._ranges.get(t);var r=(0,this._adapterOptions.nodeToRange)(t);return t&&"object"===(0,u.default)(t)&&this._ranges.set(t,r),r}},{key:"isInRange",value:function isInRange(t,r,a){if(this.isLocationProp(r))return!1;if(!isValidPosition(a))return!1;var o=this.getRange(t);return!!o&&(o[0]<=a&&a<=o[1])}},{key:"hasChildrenInRange",value:function hasChildrenInRange(t,r,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(this.isLocationProp(r))return!1;if(!isValidPosition(a))return!1;o.add(t);var i=this.getRange(t);if(i&&!this.isInRange(t,r,a))return!1;var u,l=_createForOfIteratorHelper(this.walkNode(t));try{for(l.s();!(u=l.n()).done;){var c=u.value,d=c.value,p=c.key;if(this.isInRange(d,p,a))return!0}}catch(t){l.e(t)}finally{l.f()}var v,g=_createForOfIteratorHelper(this.walkNode(t));try{for(g.s();!(v=g.n()).done;){var h=v.value,m=h.value,y=h.key;if(!o.has(m)&&this.hasChildrenInRange(m,y,a,o))return!0}}catch(t){g.e(t)}finally{g.f()}return!1}},{key:"isLocationProp",value:function isLocationProp(t){return this._adapterOptions.locationProps&&this._adapterOptions.locationProps.has(t)}},{key:"opensByDefault",value:function opensByDefault(t,r){return this._adapterOptions.openByDefault(t,r)}},{key:"isArray",value:function isArray(t){return Array.isArray(t)}},{key:"isObject",value:function isObject(t){return Boolean(t)&&"object"===(0,u.default)(t)&&!this.isArray(t)}},{key:"walkNode",value:i.default.mark((function walkNode(t){var r,a,o,u=this;return i.default.wrap((function walkNode$(l){for(;;)switch(l.prev=l.next){case 0:if(null==t){l.next=20;break}r=_createForOfIteratorHelper(this._adapterOptions.walkNode(t)),l.prev=2,o=i.default.mark((function _loop(){var r;return i.default.wrap((function _loop$(o){for(;;)switch(o.prev=o.next){case 0:if(r=a.value,!(u._adapterOptions.filters||[]).some((function(a){return!(a.key&&!u._filterValues[a.key])&&a.test(r.value,r.key,Array.isArray(t))}))){o.next=3;break}return o.abrupt("return","continue");case 3:return o.next=5,r;case 5:case"end":return o.stop()}}),_loop)})),r.s();case 5:if((a=r.n()).done){l.next=12;break}return l.delegateYield(o(),"t0",7);case 7:if("continue"!==l.t0){l.next=10;break}return l.abrupt("continue",10);case 10:l.next=5;break;case 12:l.next=17;break;case 14:l.prev=14,l.t1=l.catch(2),r.e(l.t1);case 17:return l.prev=17,r.f(),l.finish(17);case 20:case"end":return l.stop()}}),walkNode,this,[[2,14,17,20]])}))}]),TreeAdapter}(),p={default:{filters:[],openByDefault:function openByDefault(){return!1},nodeToRange:function nodeToRange(){return null},nodeToName:function nodeToName(){throw new Error("nodeToName must be passed")},walkNode:function walkNode(){throw new Error("walkNode must be passed")}},estree:{filters:[{key:"hideFunctions",label:"Hide methods",test:function test(t){return"function"==typeof t}},{key:"hideEmptyKeys",label:"Hide empty keys",test:function test(t,r,a){return null==t&&!a}},locationInformationFilter(new Set(["range","loc","start","end"])),typeKeysFilter()],openByDefaultNodes:new Set(["Program"]),openByDefaultKeys:new Set(["body","elements","declarations","expression"]),openByDefault:function openByDefault(t,r){return t&&this.openByDefaultNodes.has(t.type)||this.openByDefaultKeys.has(r)},nodeToRange:function nodeToRange(t){return t&&"object"===(0,u.default)(t)?t.range?t.range:"number"==typeof t.start&&"number"==typeof t.end?[t.start,t.end]:null:null},nodeToName:function nodeToName(t){return t.type},walkNode:i.default.mark((function walkNode(t){var r;return i.default.wrap((function walkNode$(a){for(;;)switch(a.prev=a.next){case 0:if(!t||"object"!==(0,u.default)(t)){a.next=8;break}a.t0=i.default.keys(t);case 2:if((a.t1=a.t0()).done){a.next=8;break}return r=a.t1.value,a.next=6,{value:t[r],key:r,computed:!1};case 6:a.next=2;break;case 8:case"end":return a.stop()}}),walkNode)}))}};function isValidPosition(t){return Number.isInteger(t)}function ignoreKeysFilter(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return{key:r,label:a,test:function test(r,a){return t.has(a)}}}function locationInformationFilter(t){return ignoreKeysFilter(t,"hideLocationData","Hide location data")}function functionFilter(){return{key:"hideFunctions",label:"Hide methods",test:function test(t){return"function"==typeof t}}}function emptyKeysFilter(){return{key:"hideEmptyKeys",label:"Hide empty keys",test:function test(t,r,a){return null==t&&!a}}}function typeKeysFilter(t){return ignoreKeysFilter(t,"hideTypeKeys","Hide type keys")}},L4dt:function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a("d3et"),i=a("K+NS");r.default=function _default(t){return function(r){return function(a){var u=t.getState();r(a);var l=t.getState(),c=(0,o.getParser)(l),d=(0,o.getParserSettings)(l),p=(0,o.getCode)(l);if("INIT"===a.type||(0,o.getParser)(u)!==c||(0,o.getParserSettings)(u)!==d||(0,o.getCode)(u)!==p){if(!c||null==p)return;var v=Date.now();return function parse(t,r,a){return t._promise||(t._promise=new Promise(t.loadParser)),t._promise.then((function(o){return t.parse(o,r,a||t.getDefaultOptions())}))}(c,p,d).then((function(a){if(c===(0,o.getParser)(t.getState())&&d===(0,o.getParserSettings)(t.getState())&&p===(0,o.getCode)(t.getState())){var u={type:"default",options:{openByDefault:(c.opensByDefault||function(){return!1}).bind(c),nodeToRange:c.nodeToRange.bind(c),nodeToName:c.getNodeName.bind(c),walkNode:c.forEachProperty.bind(c),filters:[(0,i.ignoreKeysFilter)(c._ignoredProperties),(0,i.functionFilter)(),(0,i.emptyKeysFilter)(),(0,i.locationInformationFilter)(c.locationProps),(0,i.typeKeysFilter)(c.typeProps)],locationProps:c.locationProps}};r({type:"SET_PARSE_RESULT",result:{time:Date.now()-v,ast:a,error:null,treeAdapter:u}})}}),(function(t){console.error(t),r({type:"SET_PARSE_RESULT",result:{time:null,ast:null,treeAdapter:null,error:t}})}))}}}}},LTuh:function(t,r,a){"use strict";var o=a("TqRt"),i=a("cDf5");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=a("/MKj"),l=o(a("XTzr")),c=function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,a&&a.set(t,o);return o}(a("d3et"));function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}var d=(0,u.connect)((function mapStateToProps(t){return{parseResult:c.getParseResult(t),position:c.getCursor(t)}}))(l.default);r.default=d},QHvK:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("PJYZ")),c=o(a("7W2i")),d=o(a("a1gu")),p=o(a("Nsbk")),v=o(a("17x9")),g=o(a("q1tI")),h=o(a("wc6d")),m=a("hN6J");function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,p.default)(t);if(r){var i=(0,p.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,d.default)(this,a)}}var y=function(t){(0,c.default)(TransformButton,t);var r=_createSuper(TransformButton);function TransformButton(t){var a;return(0,i.default)(this,TransformButton),(a=r.call(this,t))._onClick=a._onClick.bind((0,l.default)(a)),a._onToggle=a._onToggle.bind((0,l.default)(a)),a}return(0,u.default)(TransformButton,[{key:"_onClick",value:function _onClick(t){var r,a=t.target;r="li"===a.nodeName.toLowerCase()?a.children[0].value:a.value,this.props.onTransformChange((0,m.getTransformerByID)(r))}},{key:"_onToggle",value:function _onToggle(){this.props.transformer&&this.props.onTransformChange(null)}},{key:"render",value:function render(){var t=this,r=this.props.category.transformers.filter((function(r){return!1!==r.showInMenu||r==t.props.transformer}));return g.default.createElement("div",{className:(0,h.default)({button:!0,menuButton:!0,disabled:!this.props.category.transformers.length})},g.default.createElement("button",{type:"button",onClick:this._onToggle,disabled:!this.props.category.transformers.length},g.default.createElement("i",{className:(0,h.default)({fa:!0,"fa-lg":!0,"fa-toggle-off":!this.props.showTransformer,"fa-toggle-on":this.props.showTransformer,"fa-fw":!0})})," Transform"),!!r.length&&g.default.createElement("ul",null,r.map((function(r){return g.default.createElement("li",{key:r.id,className:(0,h.default)({selected:t.props.showTransformer&&t.props.transformer===r}),onClick:t._onClick},g.default.createElement("button",{value:r.id,type:"button"},r.displayName))}))))}}]),TransformButton}(g.default.Component);r.default=y,y.propTypes={category:v.default.object,transformer:v.default.object,showTransformer:v.default.bool,onTransformChange:v.default.func}},QyDd:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,u=o(a("lwsE")),l=o(a("W8MJ")),c=o(a("iWIM")),d=o(a("7W2i")),p=o(a("a1gu")),v=o(a("Nsbk")),g=o(a("VrN/")),h=o(a("17x9")),m=o(a("9h1d"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,v.default)(t);if(r){var i=(0,v.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,p.default)(this,a)}}a("9rZZ"),a("o0tJ");var y=function(t){(0,d.default)(JSCodeshiftEditor,t);var r=_createSuper(JSCodeshiftEditor);function JSCodeshiftEditor(t){var o;return(0,u.default)(this,JSCodeshiftEditor),o=r.call(this,t),function loadTern(){a.e(8).then((function(){(function(t){var r=[a("m3Q/"),a("J8f/"),a("sOAE")];(function(r,o,u){t.acorn=u,a.e(5).then((function(){var r=[a("6Ocj"),a("/TnZ"),a("shu4"),a("zQ+v"),a("4gNL")];(function(r,a,o,u,l){t.tern=r,r.registerPlugin("transformer",(function(t){t.on("afterLoad",(function(t){var r=t.scope.props.transformer;if(r){var a=r.getFunctionType(),i=o.cx();a.propagate(new o.IsCallee(o.cx().topScope,[i.definitions.jscodeshift.file,i.definitions.jscodeshift.apiObject],null,o.ANull))}}))})),i=new g.default.TernServer({defs:[u,l],plugins:{transformer:{strong:!0}}})}).apply(null,r)})).catch(a.oe)}).apply(null,r)}).call(this,a("yLpj"))})).catch(a.oe)}(),o}return(0,l.default)(JSCodeshiftEditor,[{key:"componentDidMount",value:function componentDidMount(){(0,c.default)((0,v.default)(JSCodeshiftEditor.prototype),"componentDidMount",this).call(this),this.codeMirror.setOption("extraKeys",{"Ctrl-Space":function CtrlSpace(t){return i&&i.complete(t)},"Ctrl-I":function CtrlI(t){return i&&i.showType(t)},"Ctrl-O":function CtrlO(t){return i&&i.showDocs(t)}}),this._bindCMHandler("cursorActivity",(function(t){i&&i.updateArgHints(t)}))}}]),JSCodeshiftEditor}(m.default);r.default=y,y.propTypes={value:h.default.string,highlight:h.default.bool,lineNumbers:h.default.bool,readOnly:h.default.bool,onContentChange:h.default.func,onActivity:h.default.func,posFromIndex:h.default.func,error:h.default.object,mode:h.default.string,keyMap:h.default.string},y.defaultProps=Object.assign({},m.default.defaultProps,{highlight:!1})},RA28:function(t,r,a){"use strict";(function(t){var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.owns=function owns(t){return t instanceof p},r.matchesURL=function matchesURL(){return null!==getIDAndRevisionFromHash()},r.fetchFromURL=function fetchFromURL(){var t=getIDAndRevisionFromHash();if(!t)return Promise.resolve(null);return fetchSnippet(t.id,t.rev)},r.create=function create(t){return(0,c.default)("/gist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){if(t.ok)return t.json();throw new Error("Unable to create snippet.")})).then((function(t){return new p(t)}))},r.update=function update(t,r){return fetchSnippet(t.getSnippetID()).then((function(a){return a.getTransformerID()&&!r.toolID&&(r.transform=null),(0,c.default)("/gist/".concat(t.getSnippetID()),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(t){if(t.ok)return t.json();throw new Error("Unable to update snippet.")})).then((function(t){return new p(t)}))}))},r.fork=function fork(t,r){return(0,c.default)("/gist/".concat(t.getSnippetID(),"/").concat(t.getRevisionID()),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(t){if(t.ok)return t.json();throw new Error("Unable to fork snippet.")})).then((function(t){return new p(t)}))};var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("q1tI")),c=o(a("X32/")),d=a("hN6J");function getIDAndRevisionFromHash(){var r=t.location.hash.match(/^#\/gist\/([^/]+)(?:\/([^/]+))?/);return r?{id:r[1],rev:r[2]}:null}function fetchSnippet(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";return(0,c.default)("/gist/".concat(t)+(r?"/".concat(r):""),{method:"GET"}).then((function(a){if(a.ok)return a.json();switch(a.status){case 404:throw new Error("Snippet with ID ".concat(t,"/").concat(r," doesn't exist."));default:throw new Error("Unknown error.")}})).then((function(t){return new p(t)}))}var p=function(){function Revision(t){(0,i.default)(this,Revision),this._gist=t,this._config=JSON.parse(t.files["astexplorer.json"].content)}return(0,u.default)(Revision,[{key:"canSave",value:function canSave(){return!0}},{key:"getPath",value:function getPath(){return"/gist/".concat(this.getSnippetID(),"/").concat(this.getRevisionID())}},{key:"getSnippetID",value:function getSnippetID(){return this._gist.id}},{key:"getRevisionID",value:function getRevisionID(){return this._gist.history[0].version}},{key:"getTransformerID",value:function getTransformerID(){return this._config.toolID}},{key:"getTransformCode",value:function getTransformCode(){var t=this._gist.files["transform.js"];return t?t.content:""}},{key:"getParserID",value:function getParserID(){return this._config.parserID}},{key:"getCode",value:function getCode(){return null==this._code&&(this._code=function getSource(t,r){switch(t.v){case 1:return r.files["code.js"].content;case 2:var a=(0,d.getParserByID)(t.parserID).category.fileExtension;return r.files["source.".concat(a)].content}}(this._config,this._gist)||""),this._code}},{key:"getParserSettings",value:function getParserSettings(){return this._config.settings[this._config.parserID]}},{key:"getShareInfo",value:function getShareInfo(){var t=this.getSnippetID(),r=this.getRevisionID();return l.default.createElement("div",{className:"shareInfo"},l.default.createElement("dl",null,l.default.createElement("dt",null,"Current Revision"),l.default.createElement("dd",null,l.default.createElement("input",{readOnly:!0,onFocus:function onFocus(t){return t.target.select()},value:"https://astexplorer.net/#/gist/".concat(t,"/").concat(r)})),l.default.createElement("dt",null,"Latest Revision"),l.default.createElement("dd",null,l.default.createElement("input",{readOnly:!0,onFocus:function onFocus(t){return t.target.select()},value:"https://astexplorer.net/#/gist/".concat(t,"/latest")})),l.default.createElement("dt",null,"Gist"),l.default.createElement("dd",null,l.default.createElement("input",{readOnly:!0,onFocus:function onFocus(t){return t.target.select()},value:"https://gist.github.com/".concat(t,"/").concat(r)}))))}}]),Revision}()}).call(this,a("yLpj"))},RCJa:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a("/MKj"),u=o(a("0Fwj")),l=a("d3et");var c=(0,i.connect)((function mapStateToProps(t){return{visible:(0,l.isLoadingSnippet)(t)}}))(u.default);r.default=c},Sl1E:function(t,r,a){"use strict";var o=a("TqRt"),i=a("cDf5");Object.defineProperty(r,"__esModule",{value:!0}),r.persist=function persist(t){return _objectSpread(_objectSpread({},pick(t,"showTransformPanel","parserSettings","parserPerCategory")),{},{workbench:_objectSpread(_objectSpread({},pick(t.workbench,"parser","code","keyMap")),{},{transform:pick(t.workbench.transform,"code","transformer")})})},r.revive=function revive(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return _objectSpread(_objectSpread({},t),{},{workbench:_objectSpread(_objectSpread({},t.workbench),{},{initialCode:t.workbench.code,parserSettings:t.parserSettings[t.workbench.parser]||null,transform:_objectSpread(_objectSpread({},t.workbench.transform),{},{initialCode:t.workbench.transform.code})})})},r.astexplorer=function astexplorer(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=arguments.length>1?arguments[1]:void 0;return{showSettingsDialog:showSettingsDialog(t.showSettingsDialog,r),showSettingsDrawer:showSettingsDrawer(t.showSettingsDrawer,r),showShareDialog:showShareDialog(t.showShareDialog,r),loadingSnippet:loadSnippet(t.loadingSnippet,r),saving:saving(t.saving,r),forking:forking(t.forking,r),cursor:cursor(t.cursor,r),error:error(t.error,r),showTransformPanel:showTransformPanel(t.showTransformPanel,r),activeRevision:activeRevision(t.activeRevision,r),parserPerCategory:parserPerCategory(t.parserPerCategory,r),parserSettings:parserSettings(t.parserSettings,r,t),workbench:workbench(t.workbench,r,t),enableFormatting:format(t.enableFormatting,r,t)}};var u=o(a("lSNA")),l=function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,a&&a.set(t,o);return o}(a("Y+Aq")),c=a("hN6J");function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,o)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){(0,u.default)(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}var d=(0,c.getCategoryByID)("javascript").parsers.find((function(t){return"babylon7"===t.id})),p={showSettingsDialog:!1,showSettingsDrawer:!1,showShareDialog:!1,loadingSnippet:!1,forking:!1,saving:!1,cursor:null,error:null,showTransformPanel:!1,selectedRevision:null,parserSettings:{},parserPerCategory:{},workbench:{parser:d.id,parserSettings:null,parseError:null,code:d.category.codeExample,keyMap:"default",initialCode:d.category.codeExample,transform:{code:"",initialCode:"",transformer:null,transformResult:null}},enableFormatting:!1};function format(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.enableFormatting,r=arguments.length>1?arguments[1]:void 0;return r.type===l.TOGGLE_FORMATTING?!t:t}function getDefaultTransform(t,r){return"function"==typeof t.formatCodeExample?t.formatCodeExample(t.defaultTransform,{parser:r.parser,parserSettings:r.parserSettings||{}}):t.defaultTransform}function workbench(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.workbench,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;function parserFromCategory(t){var r=a.parserPerCategory[t.id]||(0,c.getDefaultParser)(t).id;return{parser:r,parserSettings:a.parserSettings[r]||null,code:t.codeExample,initialCode:t.codeExample}}switch(r.type){case l.SELECT_CATEGORY:return _objectSpread(_objectSpread({},t),parserFromCategory(r.category));case l.DROP_TEXT:return _objectSpread(_objectSpread(_objectSpread({},t),parserFromCategory((0,c.getCategoryByID)(r.categoryId))),{},{code:r.text,initialCode:r.text});case l.SET_PARSE_RESULT:return _objectSpread(_objectSpread({},t),{},{parseResult:r.result});case l.SET_PARSER_SETTINGS:return _objectSpread(_objectSpread({},t),{},{parserSettings:r.settings});case l.SET_PARSER:var o=_objectSpread(_objectSpread({},t),{},{parser:r.parser.id});if(r.parser!==t.parser){o.parserSettings=a.parserSettings[r.parser.id]||null;var i=(0,c.getTransformerByID)(t.transform.transformer);i&&t.transform.code===getDefaultTransform(i,t)&&(o.transform=_objectSpread(_objectSpread({},t.transform),{},{code:getDefaultTransform(i,o)}))}return o;case l.SET_CODE:return _objectSpread(_objectSpread({},t),{},{code:r.code});case l.SELECT_TRANSFORMER:var u=r.transformer.compatibleParserIDs&&r.transformer.compatibleParserIDs.has(t.parser),d=r.transformer.defaultParserID!==t.parser&&!u,v=r.transformer.id!==t.transform.transformer;if(!d&&!v)return t;var g=_objectSpread({},t);if(d&&(g.parser=r.transformer.defaultParserID,g.parserSettings=a.parserSettings[r.transformer.defaultParserID]||null),v){var h=a.activeRevision&&a.activeRevision.getTransformerID()===r.transformer.id;g.transform=_objectSpread(_objectSpread({},t.transform),{},{transformer:r.transformer.id,transformResult:null,code:h?t.transform.code:getDefaultTransform(r.transformer,t),initialCode:h?a.activeRevision.getTransformCode():getDefaultTransform(r.transformer,t)})}return g;case l.SET_TRANSFORM:return _objectSpread(_objectSpread({},t),{},{transform:_objectSpread(_objectSpread({},t.transform),{},{code:r.code})});case l.SET_TRANSFORM_RESULT:return _objectSpread(_objectSpread({},t),{},{transform:_objectSpread(_objectSpread({},t.transform),{},{transformResult:r.result})});case l.SET_SNIPPET:var m=r.revision,y=m.getTransformerID(),S=m.getParserID();return _objectSpread(_objectSpread({},t),{},{parser:S,parserSettings:m.getParserSettings()||a.parserSettings[S]||null,code:m.getCode(),initialCode:m.getCode(),transform:_objectSpread(_objectSpread({},t.transform),{},{transformer:y,code:m.getTransformCode(),initialCode:m.getTransformCode()})});case l.CLEAR_SNIPPET:case l.RESET:var _=Boolean(l.RESET),E=_objectSpread(_objectSpread({},t),{},{parserSettings:a.parserSettings[t.parser]||null,code:(0,c.getParserByID)(t.parser).category.codeExample,initialCode:(0,c.getParserByID)(t.parser).category.codeExample});if(a.activeRevision&&a.activeRevision.getTransformerID()||_&&t.transform.transformer){var b=(0,c.getTransformerByID)(t.transform.transformer);E.transform=_objectSpread(_objectSpread({},t.transform),{},{code:getDefaultTransform(b,t),initialCode:getDefaultTransform(b,t)})}return E;case l.SET_KEY_MAP:return _objectSpread(_objectSpread({},t),{},{keyMap:r.keyMap});default:return t}}function parserSettings(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.parserSettings,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;switch(r.type){case l.SET_PARSER_SETTINGS:return a.activeRevision?t:_objectSpread(_objectSpread({},t),{},(0,u.default)({},a.workbench.parser,r.settings));default:return t}}function parserPerCategory(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.parserPerCategory,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.SET_PARSER:return _objectSpread(_objectSpread({},t),{},(0,u.default)({},r.parser.category.id,r.parser.id));default:return t}}function showSettingsDialog(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.showSettingsDialog,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.OPEN_SETTINGS_DIALOG:return!0;case l.CLOSE_SETTINGS_DIALOG:return!1;default:return t}}function showSettingsDrawer(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.showSettingsDrawer,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.EXPAND_SETTINGS_DRAWER:return!0;case l.COLLAPSE_SETTINGS_DRAWER:return!1;default:return t}}function showShareDialog(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.showShareDialog,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.OPEN_SHARE_DIALOG:return!0;case l.CLOSE_SHARE_DIALOG:return!1;default:return t}}function loadSnippet(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.loadingSnippet,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.START_LOADING_SNIPPET:return!0;case l.DONE_LOADING_SNIPPET:return!1;default:return t}}function saving(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.saving,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.START_SAVE:return!r.fork;case l.END_SAVE:return!1;default:return t}}function forking(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.forking,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.START_SAVE:return r.fork;case l.END_SAVE:return!1;default:return t}}function cursor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.cursor,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.SET_CURSOR:return r.cursor;case l.SET_CODE:return null!=r.cursor&&0!==r.cursor?r.cursor:t;case l.RESET:case l.SET_SNIPPET:case l.CLEAR_SNIPPET:return null;default:return t}}function error(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.error,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.SET_ERROR:return r.error;case l.CLEAR_ERROR:return null;default:return t}}function showTransformPanel(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.showTransformPanel,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.SELECT_TRANSFORMER:return!0;case l.HIDE_TRANSFORMER:case l.SELECT_CATEGORY:case l.CLEAR_SNIPPET:return!1;case l.SET_SNIPPET:return Boolean(r.revision.getTransformerID());default:return t}}function activeRevision(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.selectedRevision,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l.SET_SNIPPET:return r.revision;case l.SELECT_CATEGORY:case l.CLEAR_SNIPPET:case l.RESET:return null;default:return t}}function pick(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((function(r,a){return r[a]=t[a],r}),{})}},UGRl:function(t,r,a){"use strict";(function(t){var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=Tree;var i=o(a("J4zp")),u=o(a("lSNA")),l=o(a("2P0N")),c=o(a("17x9")),d=o(a("q1tI")),p=a("rUgn"),v=a("gjtA"),g=a("K+NS"),h=a("bcnC"),m=o(a("ZV2z"));function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,o)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){(0,u.default)(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}a("C4TL");var y=d.default.useReducer,S=d.default.useMemo,_=d.default.useRef,E=d.default.useLayoutEffect;function initSettings(){var r=t.localStorage.getItem("tree_settings");return r?JSON.parse(r):{autofocus:!0,hideFunctions:!0,hideEmptyKeys:!1,hideLocationData:!1,hideTypeKeys:!1}}function reducer(r,a){var o=_objectSpread(_objectSpread({},r),{},(0,u.default)({},a.name,a.checked));return t.localStorage.setItem("tree_settings",JSON.stringify(o)),(0,v.logEvent)("tree_view_settings",a.checked?"enabled":"disabled",a.name),o}function makeCheckbox(t,r,a){return d.default.createElement("input",{type:"checkbox",name:t,checked:r[t],onChange:function onChange(t){return a(t.target)}})}function Tree(t){var r=t.parseResult,a=t.position,o=y(reducer,null,initSettings),u=(0,i.default)(o,2),c=u[0],v=u[1],b=S((function(){return(0,g.treeAdapterFromParseResult)(r,c)}),[r.treeAdapter,c]),T=_();return(0,m.default)("init"),E((function(){(0,m.default)("focus",T)})),d.default.createElement("div",{className:"tree-visualization container"},d.default.createElement("div",{className:"toolbar"},d.default.createElement("label",{title:"Auto open the node at the cursor in the source code"},makeCheckbox("autofocus",c,v),"Autofocus"),"​",b.getConfigurableFilters().map((function(t){return d.default.createElement("span",{key:t.key},d.default.createElement("label",null,makeCheckbox(t.key,c,v),t.label),"​")}))),d.default.createElement("ul",{ref:T,onMouseLeave:function onMouseLeave(){(0,p.publish)("CLEAR_HIGHLIGHT")}},d.default.createElement(h.SelectedNodeProvider,null,d.default.createElement(l.default,{value:r.ast,level:0,treeAdapter:b,autofocus:c.autofocus,position:a}))))}Tree.propTypes={parseResult:c.default.object,position:c.default.number}}).call(this,a("yLpj"))},UObX:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=SnippetButton;var i=o(a("17x9")),u=o(a("q1tI")),l=o(a("1tHF")),c=o(a("WXfs")),d=o(a("WlsH")),p=o(a("5KZM")),v=o(a("wc6d"));function SnippetButton(t){var r=t.canFork&&!t.canSave,a=t.saving||t.forking;return u.default.createElement("div",{className:"button menuButton"},u.default.createElement("span",null,u.default.createElement("i",{className:"fa fa-lg fa-file-code-o fa-fw"})," Snippet"),u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(c.default,t)),u.default.createElement("li",null,u.default.createElement(d.default,t)),u.default.createElement("li",null,u.default.createElement(l.default,t)),u.default.createElement("li",null,u.default.createElement(p.default,t))),u.default.createElement("button",{type:"button",title:r?"Fork":"Save",style:{minWidth:0},disabled:a||!(t.canSave||t.canFork),onClick:r?t.onFork:t.onSave},u.default.createElement("i",{className:(0,v.default)({fa:!0,"fa-spinner":a,"fa-pulse":a,"fa-floppy-o":!a&&!r,"fa-code-fork":!a&&r,"fa-fw":!0})})))}SnippetButton.propTypes={canFork:i.default.bool,canSave:i.default.bool,forking:i.default.bool,onFork:i.default.func,onSave:i.default.func,saving:i.default.bool}},W7TN:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("PJYZ")),c=o(a("7W2i")),d=o(a("a1gu")),p=o(a("Nsbk")),v=o(a("17x9")),g=o(a("q1tI")),h=a("/MKj"),m=a("d3et");function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,p.default)(t);if(r){var i=(0,p.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,d.default)(this,a)}}var y={backgroundColor:"transparent",border:"none",cursor:"pointer",float:"left",fontSize:14,margin:0,padding:0,paddingRight:10},S=function(t){(0,c.default)(GistBanner,t);var r=_createSuper(GistBanner);function GistBanner(t){var a;return(0,i.default)(this,GistBanner),(a=r.call(this,t)).state={visible:!0},a._hide=a._hide.bind((0,l.default)(a)),a}return(0,u.default)(GistBanner,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){var r=t.revision,a=this.props.revision;!r||a&&r.getSnippetID()===a.getSnippetID()||this.setState({visible:!0})}},{key:"_hide",value:function _hide(){this.setState({visible:!1})}},{key:"render",value:function render(){return this.state.visible?!this.props.revision||this.props.revision.canSave()?null:g.default.createElement("div",{className:"banner"},"This snippet is ",g.default.createElement("strong",null,"read-only"),". You can still save changes by forking it.",g.default.createElement("button",{style:y,onClick:this._hide},g.default.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))):null}}]),GistBanner}(g.default.Component);S.propTypes={revision:v.default.object};var _=(0,h.connect)((function(t){return{revision:(0,m.getRevision)(t)}}))(S);r.default=_},WXfs:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=SaveButton;var i=o(a("17x9")),u=o(a("q1tI"));function SaveButton(t){var r=t.saving,a=t.forking,o=t.onNew;return u.default.createElement("button",{type:"button",disabled:r||a,onClick:o},u.default.createElement("i",{className:"fa fa-file-o fa-fw"})," New")}SaveButton.propTypes={saving:i.default.bool,forking:i.default.bool,onNew:i.default.func}},WeJq:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("7W2i")),c=o(a("a1gu")),d=o(a("Nsbk")),p=o(a("VrN/"));a("+dQi"),a("y8iW"),a("SJVZ"),a("rt3J");var v=o(a("17x9")),g=a("rUgn"),h=o(a("q1tI"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,d.default)(t);if(r){var i=(0,d.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,c.default)(this,a)}}var m=function(t){(0,l.default)(Editor,t);var r=_createSuper(Editor);function Editor(){return(0,i.default)(this,Editor),r.apply(this,arguments)}return(0,u.default)(Editor,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){if(t.value!==this.codeMirror.getValue()){var r=this.codeMirror.getScrollInfo();this.codeMirror.setValue(t.value),this.codeMirror.scrollTo(r.left,r.top)}}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!1}},{key:"componentDidMount",value:function componentDidMount(){var t=this;this._subscriptions=[],this.codeMirror=(0,p.default)(this.container,{value:this.props.value,mode:{name:"javascript",json:!0},readOnly:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}),this._subscriptions.push((0,g.subscribe)("PANEL_RESIZE",(function(){t.codeMirror&&t.codeMirror.refresh()})))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._unbindHandlers();var t=this.container;t.removeChild(t.children[0]),this.codeMirror=null}},{key:"_unbindHandlers",value:function _unbindHandlers(){(0,g.clear)(this._subscriptions)}},{key:"render",value:function render(){var t=this;return h.default.createElement("div",{id:"JSONEditor",className:this.props.className,ref:function ref(r){return t.container=r}})}}]),Editor}(h.default.Component);r.default=m,m.propTypes={value:v.default.string,className:v.default.string}},WlsH:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=SaveButton;var i=o(a("17x9")),u=o(a("q1tI")),l=o(a("wc6d"));function SaveButton(t){var r=t.canSave,a=t.saving,o=t.forking,i=t.onSave;return u.default.createElement("button",{type:"button",disabled:!r||a||o,onClick:i},u.default.createElement("i",{className:(0,l.default)({fa:!0,"fa-spinner":a,"fa-pulse":a,"fa-floppy-o":!a,"fa-fw":!0})})," Save")}SaveButton.propTypes={canSave:i.default.bool,saving:i.default.bool,forking:i.default.bool,onSave:i.default.func}},"X32/":function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function api(t,r){return fetch("".concat("","/api/v1").concat(t),r)},a("LpSC")},XTzr:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=ASTOutput;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("7W2i")),c=o(a("a1gu")),d=o(a("Nsbk")),p=o(a("J4zp")),v=o(a("17x9")),g=o(a("q1tI")),h=o(a("wc6d")),m=o(a("eC9q"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,d.default)(t);if(r){var i=(0,d.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,c.default)(this,a)}}var y=g.default.useState;function ASTOutput(t){var r,a=t.parseResult,o=void 0===a?{}:a,i=t.position,u=void 0===i?null:i,l=y(0),c=(0,p.default)(l,2),d=c[0],v=c[1],_=o.ast,E=void 0===_?null:_;o.error?r=g.default.createElement("div",{style:{padding:20,whiteSpace:"pre-wrap",fontFamily:"monospace"}},o.error.message):E&&(r=g.default.createElement(S,null,g.default.createElement(m.default[d],{parseResult:o,position:u})));var b=m.default.map((function(t,r){return g.default.createElement("button",{key:r,value:r,onClick:function onClick(t){return v(t.target.value)},className:(0,h.default)({active:d==r})},t.name)}));return g.default.createElement("div",{className:"output highlight"},g.default.createElement("div",{className:"toolbar"},b,g.default.createElement("span",{className:"time"},function formatTime(t){return t?t<1e3?"".concat(t,"ms"):"".concat((t/1e3).toFixed(2),"s"):null}(o.time))),r)}ASTOutput.propTypes={parseResult:v.default.object,position:v.default.number};var S=function(t){(0,l.default)(ErrorBoundary,t);var r=_createSuper(ErrorBoundary);function ErrorBoundary(t){var a;return(0,i.default)(this,ErrorBoundary),(a=r.call(this,t)).state={hasError:!1},a}return(0,u.default)(ErrorBoundary,[{key:"render",value:function render(){return this.state.hasError?g.default.createElement("div",{style:{padding:20}},"An error was caught while rendering the AST. This usually is an issue with astexplorer itself. Have a look at the console for more information. Consider ",g.default.createElement("a",{href:"https://github.com/fkling/astexplorer/issues/new?template=bug_report.md"},"filing a bug report"),", but ",g.default.createElement("a",{href:"https://github.com/fkling/astexplorer/issues/"},"check first"),' if one doesn"t already exist. Thank you!'):this.props.children}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(){return{hasError:!0}}}]),ErrorBoundary}(g.default.Component);S.propTypes={children:v.default.node}},"Y+Aq":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.setParser=function setParser(t){return{type:"SET_PARSER",parser:t}},r.setParserSettings=function setParserSettings(t){return{type:"SET_PARSER_SETTINGS",settings:t}},r.save=function save(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"SAVE",fork:t}},r.startSave=function startSave(t){return{type:"START_SAVE",fork:t}},r.endSave=function endSave(t){return{type:"END_SAVE",fork:t}},r.setSnippet=function setSnippet(t){return{type:"SET_SNIPPET",revision:t}},r.selectCategory=function selectCategory(t){return{type:"CHANGE_CATEGORY",category:t}},r.clearSnippet=function clearSnippet(){return{type:"CLEAR_SNIPPET"}},r.startLoadingSnippet=function startLoadingSnippet(){return{type:"START_LOADING_SNIPPET"}},r.doneLoadingSnippet=function doneLoadingSnippet(){return{type:"DONE_LOADING_SNIPPET"}},r.loadSnippet=function loadSnippet(){return{type:"LOAD_SNIPPET"}},r.openSettingsDialog=function openSettingsDialog(){return{type:"OPEN_SETTINGS_DIALOG"}},r.closeSettingsDialog=function closeSettingsDialog(){return{type:"CLOSE_SETTINGS_DIALOG"}},r.expandSettingsDrawer=function expandSettingsDrawer(){return{type:"EXPAND_SETTINGS_DRAWER"}},r.collapseSettingsDrawer=function collapseSettingsDrawer(){return{type:"COLLAPSE_SETTINGS_DRAWER"}},r.openShareDialog=function openShareDialog(){return{type:"OPEN_SHARE_DIALOG"}},r.closeShareDialog=function closeShareDialog(){return{type:"CLOSE_SHARE_DIALOG"}},r.setError=function setError(t){return{type:"SET_ERROR",error:t}},r.clearError=function clearError(){return{type:"CLEAR_ERROR"}},r.selectTransformer=function selectTransformer(t){return{type:"SELECT_TRANSFORMER",transformer:t}},r.hideTransformer=function hideTransformer(){return{type:"HIDE_TRANSFORMER"}},r.setTransformState=function setTransformState(t){return _objectSpread({type:"SET_TRANSFORM"},t)},r.setCode=function setCode(t){return _objectSpread({type:"SET_CODE"},t)},r.setCursor=function setCursor(t){return{type:"SET_CURSOR",cursor:t}},r.dropText=function dropText(t,r){return{type:"DROP_TEXT",text:t,categoryId:r}},r.reset=function reset(){return{type:"RESET"}},r.toggleFormatting=function toggleFormatting(){return{type:"TOGGLE_FORMATTING"}},r.setKeyMap=function setKeyMap(t){return{type:"SET_KEY_MAP",keyMap:t}},r.SET_KEY_MAP=r.TOGGLE_FORMATTING=r.RESET=r.END_SAVE=r.START_SAVE=r.SAVE=r.DROP_TEXT=r.SET_CURSOR=r.SET_CODE=r.CLOSE_SHARE_DIALOG=r.OPEN_SHARE_DIALOG=r.COLLAPSE_SETTINGS_DRAWER=r.EXPAND_SETTINGS_DRAWER=r.CLOSE_SETTINGS_DIALOG=r.OPEN_SETTINGS_DIALOG=r.SET_SNIPPET=r.SET_PARSE_RESULT=r.SET_PARSER_SETTINGS=r.SET_PARSER=r.SET_TRANSFORM_RESULT=r.SET_TRANSFORM=r.HIDE_TRANSFORMER=r.SELECT_TRANSFORMER=r.SELECT_CATEGORY=r.CLEAR_SNIPPET=r.DONE_LOADING_SNIPPET=r.START_LOADING_SNIPPET=r.LOAD_SNIPPET=r.CLEAR_ERROR=r.SET_ERROR=void 0;var i=o(a("lSNA"));function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,o)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){(0,i.default)(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}r.SET_ERROR="SET_ERROR";r.CLEAR_ERROR="CLEAR_ERROR";r.LOAD_SNIPPET="LOAD_SNIPPET";r.START_LOADING_SNIPPET="START_LOADING_SNIPPET";r.DONE_LOADING_SNIPPET="DONE_LOADING_SNIPPET";r.CLEAR_SNIPPET="CLEAR_SNIPPET";r.SELECT_CATEGORY="CHANGE_CATEGORY";r.SELECT_TRANSFORMER="SELECT_TRANSFORMER";r.HIDE_TRANSFORMER="HIDE_TRANSFORMER";r.SET_TRANSFORM="SET_TRANSFORM";r.SET_TRANSFORM_RESULT="SET_TRANSFORM_RESULT";r.SET_PARSER="SET_PARSER";r.SET_PARSER_SETTINGS="SET_PARSER_SETTINGS";r.SET_PARSE_RESULT="SET_PARSE_RESULT";r.SET_SNIPPET="SET_SNIPPET";r.OPEN_SETTINGS_DIALOG="OPEN_SETTINGS_DIALOG";r.CLOSE_SETTINGS_DIALOG="CLOSE_SETTINGS_DIALOG";r.EXPAND_SETTINGS_DRAWER="EXPAND_SETTINGS_DRAWER";r.COLLAPSE_SETTINGS_DRAWER="COLLAPSE_SETTINGS_DRAWER";r.OPEN_SHARE_DIALOG="OPEN_SHARE_DIALOG";r.CLOSE_SHARE_DIALOG="CLOSE_SHARE_DIALOG";r.SET_CODE="SET_CODE";r.SET_CURSOR="SET_CURSOR";r.DROP_TEXT="DROP_TEXT";r.SAVE="SAVE";r.START_SAVE="START_SAVE";r.END_SAVE="END_SAVE";r.RESET="RESET";r.TOGGLE_FORMATTING="TOGGLE_FORMATTING";r.SET_KEY_MAP="SET_KEY_MAP"},ZV2z:function(t,r,a){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function _default(t,r){switch(t){case"init":o=new Set;break;case"add":o.add(r);break;case"focus":var a=r.current,i=o.size;try{if(1===i)o.values().next().value.current.scrollIntoView();else if(i>1){var u=a.getBoundingClientRect(),l=(u.y+u.height)/2+u.y,c=Array.from(o).reduce((function(t,r){if(!r.current)return t;var a=r.current.getBoundingClientRect(),o=a.y-l,i=Math.min(Math.abs(o),Math.abs(o+a.height));return!t||t[1]>i?[r.current,i]:t}),null);c&&c[0].scrollIntoView()}}catch(t){console.error("Unable to scroll node into view:",t.message)}}}},bcnC:function(t,r,a){"use strict";(function(t){var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.SelectedNodeProvider=function SelectedNodeProvider(t){return l.default.createElement(c.Provider,(0,u.default)({value:setSelectedNode},t))},r.useSelectedNode=function useSelectedNode(){var t=l.default.useContext(c);if(!t)throw new Error("useSelectedNode must be used within a SelectedNodeContext");return t};var i,u=o(a("pVnL")),l=o(a("q1tI")),c=l.default.createContext();function setSelectedNode(r,a){i&&i(),r?(t.$node=r,i=a):(i=null,delete t.$node)}}).call(this,a("yLpj"))},cL48:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("PJYZ")),c=o(a("7W2i")),d=o(a("a1gu")),p=o(a("Nsbk")),v=o(a("17x9")),g=o(a("q1tI")),h=o(a("wc6d")),m=a("hN6J");function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,p.default)(t);if(r){var i=(0,p.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,d.default)(this,a)}}var y={"text/x-scala":"icon-scala",css:"fa-css3",graphql:"icon-GraphQL_Logo",handlebars:"icon-handlebars",htmlmixed:"fa-html5",icu:"icon-icu",java:"icon-java",javascript:"fa-jsfiddle",ocaml:"icon-ocaml",reason:"icon-reason",rust:"icon-rust",sql:"fa-database",webidl:"fa-th-list",yaml:"fa-yc"},S=function(t){(0,c.default)(CategoryButton,t);var r=_createSuper(CategoryButton);function CategoryButton(t){var a;return(0,i.default)(this,CategoryButton),(a=r.call(this,t))._onClick=a._onClick.bind((0,l.default)(a)),a}return(0,u.default)(CategoryButton,[{key:"_onClick",value:function _onClick(t){var r=t.currentTarget.getAttribute("data-id");this.props.onCategoryChange((0,m.getCategoryByID)(r))}},{key:"render",value:function render(){var t=this;return g.default.createElement("div",{className:"button menuButton categoryButton"},g.default.createElement("span",null,g.default.createElement("i",{className:(0,h.default)(y[this.props.category.id]||"fa-file-o",{fa:!0,"fa-lg":!0,"fa-fw":!0})})," ",this.props.category.displayName),g.default.createElement("ul",null,m.categories.map((function(r){return g.default.createElement("li",{key:r.id,onClick:t._onClick,"data-id":r.id},g.default.createElement("button",{type:"button"},g.default.createElement("i",{className:(0,h.default)(y[r.id]||"fa-file-o",{fa:!0,"fa-fw":!0})})," ",r.displayName))}))))}}]),CategoryButton}(g.default.Component);r.default=S,S.propTypes={onCategoryChange:v.default.func.isRequired,category:v.default.object.isRequired}},d3et:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.getFormattingState=function getFormattingState(t){return t.enableFormatting},r.getCursor=function getCursor(t){return t.cursor},r.getError=function getError(t){return t.error},r.isLoadingSnippet=function isLoadingSnippet(t){return t.loadingSnippet},r.showSettingsDialog=function showSettingsDialog(t){return t.showSettingsDialog},r.showSettingsDrawer=function showSettingsDrawer(t){return t.showSettingsDrawer},r.showShareDialog=function showShareDialog(t){return t.showShareDialog},r.isForking=function isForking(t){return t.forking},r.isSaving=function isSaving(t){return t.saving},r.getParser=getParser,r.getParserSettings=getParserSettings,r.getParseResult=function getParseResult(t){return t.workbench.parseResult},r.getRevision=getRevision,r.getCode=getCode,r.getInitialCode=getInitialCode,r.getKeyMap=function getKeyMap(t){return t.workbench.keyMap},r.getTransformCode=getTransformCode,r.getInitialTransformCode=getInitialTransformCode,r.getTransformer=function getTransformer(t){return(0,u.getTransformerByID)(t.workbench.transform.transformer)},r.getTransformResult=function getTransformResult(t){return t.workbench.transform.transformResult},r.showTransformer=showTransformer,r.canSave=r.canSaveTransform=r.canFork=void 0;var i=o(a("XaGS")),u=a("hN6J");function createSelector(t,r){return function(a){return r.apply(this,t.map((function(t){return t(a)})))}}function getParser(t){return(0,u.getParserByID)(t.workbench.parser)}function getParserSettings(t){return t.workbench.parserSettings}function getRevision(t){return t.activeRevision}function getCode(t){return t.workbench.code}function getInitialCode(t){return t.workbench.initialCode}var l=createSelector([getCode,getInitialCode],(function(t,r){return t!==r}));function getTransformCode(t){return t.workbench.transform.code}function getInitialTransformCode(t){return t.workbench.transform.initialCode}function showTransformer(t){return t.showTransformPanel}var c=createSelector([getTransformCode,getInitialTransformCode],(function(t,r){return t!==r})),d=createSelector([getRevision],(function(t){return!!t}));r.canFork=d;var p=createSelector([getRevision,l],(function(t,r){return!t||r})),v=createSelector([showTransformer,c],(function(t,r){return t&&r}));r.canSaveTransform=v;var g=createSelector([getParserSettings,getRevision,getParser],(function(t,r,a){var o=r&&r.getParserSettings();return!!r&&(a.id!==r.getParserID()||!!o&&!(0,i.default)(t,o))})),h=createSelector([getRevision,p,v,g],(function(t,r,a,o){return(r||a||o)&&(!t||t.canSave())}));r.canSave=h},e82i:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=JSON;var i=o(a("WeJq")),u=o(a("17x9")),l=o(a("q1tI")),c=o(a("3/DG"));function JSON(t){var r=t.parseResult;return l.default.createElement(i.default,{className:"container",value:(0,c.default)(r.ast,null,2)})}JSON.propTypes={parseResult:u.default.object}},eC9q:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("e82i")),u=[o(a("UGRl")).default,i.default];r.default=u},fQDW:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("PJYZ")),c=o(a("7W2i")),d=o(a("a1gu")),p=o(a("Nsbk")),v=o(a("17x9")),g=o(a("q1tI"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,p.default)(t);if(r){var i=(0,p.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,d.default)(this,a)}}var h=function(t){(0,c.default)(SettingsDialog,t);var r=_createSuper(SettingsDialog);function SettingsDialog(t){var a;return(0,i.default)(this,SettingsDialog),(a=r.call(this,t))._outerClick=a._outerClick.bind((0,l.default)(a)),a._onChange=a._onChange.bind((0,l.default)(a)),a._reset=a._reset.bind((0,l.default)(a)),a._saveAndClose=a._saveAndClose.bind((0,l.default)(a)),a.state={parserSettings:a.props.parserSettings},a}return(0,u.default)(SettingsDialog,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){this.setState({parserSettings:t.parserSettings})}},{key:"_outerClick",value:function _outerClick(t){t.target===document.getElementById("SettingsDialog")&&this._saveAndClose()}},{key:"_onChange",value:function _onChange(t){this.setState({parserSettings:t})}},{key:"_saveAndClose",value:function _saveAndClose(){this.props.onSave(this.props.parser,this.state.parserSettings),this.props.onWantToClose()}},{key:"_reset",value:function _reset(){this.setState({parserSettings:{}})}},{key:"render",value:function render(){return this.props.visible&&this.props.parser.renderSettings?g.default.createElement("div",{id:"SettingsDialog",className:"dialog",onClick:this._outerClick},g.default.createElement("div",{className:"inner"},g.default.createElement("div",{className:"header"},g.default.createElement("h3",null,this.props.parser.displayName," Settings")),g.default.createElement("div",{className:"body"},this.props.parser.renderSettings(this.state.parserSettings,this._onChange)),g.default.createElement("div",{className:"footer"},g.default.createElement("button",{style:{marginRight:10},onClick:this._reset},"Reset"),g.default.createElement("button",{onClick:this._saveAndClose},"Close")))):null}}]),SettingsDialog}(g.default.Component);r.default=h,h.propTypes={onSave:v.default.func,onWantToClose:v.default.func,visible:v.default.bool,parser:v.default.object.isRequired,parserSettings:v.default.object}},gjtA:function(t,r,a){"use strict";(function(t){Object.defineProperty(r,"__esModule",{value:!0}),r.logEvent=function logEvent(r,a,o){t.ga("send","event",r,a,o)},r.logError=function logError(r,a){t.ga("send","exception",{exDescription:r,exFatal:a})}}).call(this,a("yLpj"))},j4Rz:function(t,r,a){"use strict";var o=a("TqRt"),i=a("cDf5");Object.defineProperty(r,"__esModule",{value:!0}),r.default=TransformOutput;var u=o(a("9h1d")),l=o(a("WeJq")),c=o(a("17x9")),d=function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,a&&a.set(t,o);return o}(a("q1tI")),p=o(a("3/DG"));function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}function TransformOutput(t){var r=t.transformResult,a=t.mode;r=null==r?{result:""}:r;var o=d.useCallback((function(t){return function positionFromIndex(t,r){if(r){var a=r.sourcesContent[0];if(0===t)return{line:0,ch:0};for(var o=a.lastIndexOf("\n",t-1),i=t-o-1,u=1;o>0;)o=a.lastIndexOf("\n",o-1),u++;0===o&&u++;var l=r.generatedPositionFor({line:u,column:i,source:r.sources[0]});if(u=l.line,i=l.column,null!==u&&null!==i)return{line:u-1,ch:i}}}(t,r.map)}),[r]);return d.createElement("div",{className:"output highlight"},r.error?d.createElement(u.default,{highlight:!1,key:"error",lineNumbers:!1,readOnly:!0,value:r.error.message}):"string"==typeof r.result?d.createElement(u.default,{posFromIndex:o,mode:a,key:"output",readOnly:!0,value:r.result}):d.createElement(l.default,{className:"container no-toolbar",value:(0,p.default)(r.result,null,2)}))}TransformOutput.propTypes={transformResult:c.default.object,mode:c.default.string}},l7tp:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("7W2i")),c=o(a("a1gu")),d=o(a("Nsbk")),p=o(a("17x9")),v=o(a("q1tI"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,d.default)(t);if(r){var i=(0,d.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,c.default)(this,a)}}var g=function(t){(0,l.default)(CompactArrayView,t);var r=_createSuper(CompactArrayView);function CompactArrayView(){return(0,i.default)(this,CompactArrayView),r.apply(this,arguments)}return(0,u.default)(CompactArrayView,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t){return t.array.length!==this.props.array.length}},{key:"render",value:function render(){var t=this.props.array.length;return 0===t?v.default.createElement("span",{className:"p"},"[ ]"):v.default.createElement("span",null,v.default.createElement("span",{className:"p"},"["),v.default.createElement("span",{className:"compact placeholder ge",onClick:this.props.onClick},t+" element"+(t>1?"s":"")),v.default.createElement("span",{className:"p"},"]"))}}]),CompactArrayView}(v.default.Component);r.default=g,g.propTypes={array:p.default.oneOfType([p.default.array,p.default.shape({length:p.default.number})]).isRequired,onClick:p.default.func}},"m/HS":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ")),l=o(a("PJYZ")),c=o(a("7W2i")),d=o(a("a1gu")),p=o(a("Nsbk")),v=o(a("17x9")),g=o(a("q1tI"));function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,p.default)(t);if(r){var i=(0,p.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,d.default)(this,a)}}var h=function(t){(0,c.default)(ShareDialog,t);var r=_createSuper(ShareDialog);function ShareDialog(t){var a;return(0,i.default)(this,ShareDialog),(a=r.call(this,t))._outerClick=a._outerClick.bind((0,l.default)(a)),a}return(0,u.default)(ShareDialog,[{key:"_outerClick",value:function _outerClick(t){t.target===document.getElementById("ShareDialog")&&this.props.onWantToClose()}},{key:"render",value:function render(){return this.props.visible?g.default.createElement("div",{id:"ShareDialog",className:"dialog",onClick:this._outerClick},g.default.createElement("div",{className:"inner",style:{maxWidth:"80%",width:600}},g.default.createElement("div",{className:"body"},this.props.snippet.getShareInfo()),g.default.createElement("div",{className:"footer"},g.default.createElement("button",{onClick:this.props.onWantToClose},"Close")))):null}}]),ShareDialog}(g.default.Component);r.default=h,h.propTypes={onWantToClose:v.default.func.isRequired,visible:v.default.bool.isRequired,snippet:v.default.object}},mLOA:function(t,r,a){"use strict";(function(t){var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("lwsE")),u=o(a("W8MJ"));function _createForOfIteratorHelper(t,r){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,c=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return l=t.done,t},e:function e(t){c=!0,u=t},f:function f(){try{l||null==a.return||a.return()}finally{if(c)throw u}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=t[a];return o}var l=function(){function StorageHandler(t){(0,i.default)(this,StorageHandler),this._backends=t}return(0,u.default)(StorageHandler,[{key:"_first",value:function _first(){return this._backends[0]}},{key:"_owns",value:function _owns(t){var r,a=_createForOfIteratorHelper(this._backends);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.owns(t))return o}}catch(t){a.e(t)}finally{a.f()}return null}},{key:"updateHash",value:function updateHash(r){t.location.hash=r.getPath()}},{key:"fetchFromURL",value:function fetchFromURL(){if(/^#?\/?$/.test(t.location.hash))return Promise.resolve(null);var r,a=_createForOfIteratorHelper(this._backends);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.matchesURL())return o.fetchFromURL()}}catch(t){a.e(t)}finally{a.f()}return Promise.reject(new Error("Unknown URL format."))}},{key:"create",value:function create(t){return this._first().create(t)}},{key:"update",value:function update(t,r){return this._first().update(t,r)}},{key:"fork",value:function fork(t,r){return this._first().fork(t,r)}}]),StorageHandler}();r.default=l}).call(this,a("yLpj"))},"nH/0":function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(a("pVnL")),u=o(a("QILm")),l=o(a("lwsE")),c=o(a("W8MJ")),d=o(a("7W2i")),p=o(a("a1gu")),v=o(a("Nsbk")),g=o(a("17x9")),h=o(a("q1tI")),m=a("hN6J"),y=["children","onText"];function _createForOfIteratorHelper(t,r){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var o=0,i=function F(){};return{s:i,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,c=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return l=t.done,t},e:function e(t){c=!0,u=t},f:function f(){try{l||null==a.return||a.return()}finally{if(c)throw u}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=t[a];return o}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,o=(0,v.default)(t);if(r){var i=(0,v.default)(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return(0,p.default)(this,a)}}var S=new Map([["application/json","JSON"],["text/plain","TEXT"]]);m.categories.forEach((function(t){var r=t.id;t.mimeTypes.forEach((function(t){S.set(t,r)}))}));var _=function(t){(0,d.default)(PasteDropTarget,t);var r=_createSuper(PasteDropTarget);function PasteDropTarget(t){var a;return(0,l.default)(this,PasteDropTarget),(a=r.call(this,t)).state={dragging:!1},a}return(0,c.default)(PasteDropTarget,[{key:"_onASTError",value:function _onASTError(t,r,a){throw this.props.onError(t,r,"Cannot process pasted AST: ".concat(a.message)),a}},{key:"componentDidMount",value:function componentDidMount(){var t=this;this._listeners=[];var r,a=this.container;this._bindListener(document,"paste",(function(r){if(r.clipboardData){var a=r.clipboardData;!a.types.indexOf||!a.types.indexOf("text/plain")>-1||(r.stopPropagation(),r.preventDefault(),t._jsonToCode(a.getData("text/plain")).then((function(a){return t.props.onText("paste",r,a)}),(function(a){"TEXTAREA"!==r.target.nodeName&&t._onASTError("paste",r,a)})))}}),!0),this._bindListener(a,"dragenter",(function(a){clearTimeout(r),a.preventDefault(),t.setState({dragging:!0})}),!0),this._bindListener(a,"dragover",(function(t){clearTimeout(r),t.preventDefault(),t.dataTransfer.dropEffect="copy"}),!0),this._bindListener(a,"drop",(function(r){t.setState({dragging:!1});var a=r.dataTransfer.files[0],o=S.get(a.type);if(o&&t.props.onText){r.preventDefault(),r.stopPropagation();var i=new FileReader;i.onload=function(r){var a=r.target.result;"JSON"!==o&&"TEXT"!==o||(a=t._jsonToCode(a).then((function(t){return o="javascript",t}),(function(i){if("JSON"!==o)return o=void 0,a;t._onASTError("drop",r,i)}))),Promise.resolve(a).then((function(a){t.props.onText("drop",r,a,o)}))},i.readAsText(a)}}),!0),this._bindListener(a,"dragleave",(function(){clearTimeout(r),r=setTimeout((function(){return t.setState({dragging:!1})}),50)}),!0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t,r=_createForOfIteratorHelper(this._listeners);try{for(r.s();!(t=r.n()).done;){(0,t.value)()}}catch(t){r.e(t)}finally{r.f()}this._listeners=null}},{key:"_jsonToCode",value:function _jsonToCode(t){var r;try{r=JSON.parse(t)}catch(r){return Promise.resolve(t)}return function importEscodegen(){return new Promise((function(t){return a.e(6).then(function(){var r=[a("aMAw")];t.apply(null,r)}.bind(this)).catch(a.oe)}))}().then((function(t){return t.generate(r,{format:{indent:{style:"  "}}})}))}},{key:"_bindListener",value:function _bindListener(t,r,a,o){var i,u=this,l=_createForOfIteratorHelper(r.split(/\s+/));try{var c=function _loop(){var r=i.value;t.addEventListener(r,a,o),u._listeners.push((function(){return t.removeEventListener(r,a,o)}))};for(l.s();!(i=l.n()).done;)c()}catch(t){l.e(t)}finally{l.f()}}},{key:"render",value:function render(){var t=this,r=this.props,a=r.children,o=(r.onText,(0,u.default)(r,y)),l=this.state.dragging?h.default.createElement("div",{className:"dropIndicator"},h.default.createElement("div",null,"Drop the code or (JSON-encoded) AST file here")):null;return h.default.createElement("div",(0,i.default)({ref:function ref(r){return t.container=r}},o),l,a)}}]),PasteDropTarget}(h.default.Component);r.default=_,_.propTypes={onText:g.default.func,onError:g.default.func,children:g.default.node}},"r/dV":function(t,r,a){"use strict";(function(t){Object.defineProperty(r,"__esModule",{value:!0}),r.readState=r.writeState=void 0;var a=t.localStorage,o="explorerSettingsV1",i=function noop(){},u=a?function(t){try{a.setItem(o,JSON.stringify(t))}catch(t){console.warn("Unable to write to local storage.")}}:i;r.writeState=u;var l=a?function(){try{var t=a.getItem(o);if(t)return JSON.parse(t)}catch(t){console.warn("Unable to read from local storage.")}}:i;r.readState=l}).call(this,a("yLpj"))},rLSY:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a("/MKj"),u=a("Y+Aq"),l=a("d3et"),c=o(a("m/HS"));var d=(0,i.connect)((function mapStateToProps(t){return{visible:(0,l.showShareDialog)(t),snippet:(0,l.getRevision)(t)}}),(function mapDispatchToProps(t){return{onWantToClose:function onWantToClose(){return t((0,u.closeShareDialog)())}}}))(c.default);r.default=d},rUgn:function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.subscribe=function subscribe(t,r){var a=o[t];a||(a=o[t]=[]);-1===a.indexOf(r)&&a.push(r);return function(){return a.splice(a.indexOf(r),1)}},r.publish=function publish(t,r){o[t]&&setTimeout((function callSubscribers(){if(o[t])for(var a=o[t],i=0;i<a.length;i++)a[i](r)}),0)},r.clear=function clear(t){t.forEach(call)};var o={};function call(t){return t()}},s9A2:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=PrettierButton;var i=o(a("17x9")),u=o(a("q1tI")),l=o(a("wc6d"));function PrettierButton(t){return u.default.createElement("button",{type:"button",className:"toggleBtn",onClick:t.toggleFormatting},u.default.createElement("i",{className:(0,l.default)({fa:!0,"fa-lg":!0,"fa-toggle-off":!t.enableFormatting,"fa-toggle-on":t.enableFormatting,"fa-fw":!0})}),u.default.createElement("span",{className:"btnText"},"Prettier"))}PrettierButton.propTypes={toggleFormatting:i.default.func,enableFormatting:i.default.bool}},ts5B:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=a("/MKj"),u=a("Y+Aq"),l=o(a("9h1d")),c=a("d3et");var d=(0,i.connect)((function mapStateToProps(t){return{keyMap:(0,c.getKeyMap)(t),value:(0,c.getCode)(t),mode:(0,c.getParser)(t).category.editorMode||(0,c.getParser)(t).category.id,error:((0,c.getParseResult)(t)||{}).error}}),(function mapDispatchToProps(t){return{onContentChange:function onContentChange(r){var a=r.value,o=r.cursor;t((0,u.setCode)({code:a,cursor:o}))},onActivity:function onActivity(r){return t((0,u.setCursor)(r))}}}))(l.default);r.default=d},uo2T:function(t,r,a){"use strict";var o=a("TqRt"),i=a("cDf5");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=a("/MKj"),l=o(a("x6DZ")),c=a("Y+Aq"),d=function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,a&&a.set(t,o);return o}(a("d3et"));function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}var p=(0,u.connect)((function mapStateToProps(t){return{transformer:d.getTransformer(t),defaultTransformCode:d.getInitialTransformCode(t),transformCode:d.getTransformCode(t),mode:d.getParser(t).category.editorMode||d.getParser(t).category.id,enableFormatting:d.getFormattingState(t),keyMap:d.getKeyMap(t),transformResult:d.getTransformResult(t)}}),(function mapDispatchToProps(t){return{onContentChange:function onContentChange(r){var a=r.value,o=r.cursor;t((0,c.setTransformState)({code:a,cursor:o}))},toggleFormatting:function toggleFormatting(){t((0,c.toggleFormatting)())}}}))(l.default);r.default=p},vj7y:function(t,r,a){"use strict";(function(t){var o=a("TqRt"),i=a("cDf5");Object.defineProperty(r,"__esModule",{value:!0}),r.default=SplitPane;var u=o(a("J4zp")),l=o(a("lSNA")),c=o(a("17x9")),d=function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,a&&a.set(t,o);return o}(a("q1tI")),p=o(a("wc6d"));function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}function ownKeys(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,o)}return a}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(a),!0).forEach((function(r){(0,l.default)(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}var v={flex:"1",display:"flex"},g=_objectSpread(_objectSpread({},v),{},{minWidth:0,minHeight:0});function SplitPane(r){var a=r.vertical,o=r.className,i=r.children,l=r.onResize,c=d.useState(50),h=(0,u.default)(c,2),m=h[0],y=h[1],S=d.useRef(),_=d.useCallback((function(r){if(S.current){r.preventDefault();var o=a?S.current.offsetTop:S.current.offsetLeft,i=a?S.current.offsetHeight:S.current.offsetWidth;t.document.body.style.cursor=a?"row-resize":"col-resize";var u=function moveHandler(t){t.preventDefault();var r=((a?t.pageY:t.pageX)-o)/i*100;y(Math.min(Math.max(0,r),99))};document.addEventListener("mousemove",u),document.addEventListener("mouseup",(function upHandler(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",upHandler),t.document.body.style.cursor="",l&&l()}))}}),[a,m,S]);if((i=d.Children.toArray(i)).length<2)return d.createElement("div",{className:o,style:{display:"flex"}},i);var E=_objectSpread({},v);return a?E.minHeight=E.maxHeight=m+"%":E.minWidth=E.maxWidth=m+"%",d.createElement("div",{ref:S,className:o,style:{display:"flex",flexDirection:a?"column":"row"}},d.createElement("div",{style:E},i[0]),d.createElement("div",{className:(0,p.default)({"splitpane-divider":!0,vertical:a,horizontal:!a}),onMouseDown:_}),d.createElement("div",{style:g},i[1]))}SplitPane.propTypes={vertical:c.default.bool,className:c.default.string,children:c.default.node,onResize:c.default.func}}).call(this,a("yLpj"))},wc6d:function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function cx(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.map((function(t){return"string"==typeof t?t:Object.keys(t).filter((function(r){return t[r]})).join(" ")})).join(" ")}},x6DZ:function(t,r,a){"use strict";var o=a("TqRt"),i=a("cDf5");Object.defineProperty(r,"__esModule",{value:!0}),r.default=Transformer;var u=o(a("9h1d")),l=o(a("QyDd")),c=o(a("17x9")),d=a("rUgn"),p=function _interopRequireWildcard(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var a=_getRequireWildcardCache(r);if(a&&a.has(t))return a.get(t);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=u?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}o.default=t,a&&a.set(t,o);return o}(a("q1tI")),v=o(a("vj7y")),g=o(a("j4Rz")),h=o(a("s9A2"));function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(t){return t?a:r})(t)}function resize(){(0,d.publish)("PANEL_RESIZE")}function Transformer(t){var r=p.createElement("jscodeshift"===t.transformer.id?l.default:u.default,{highlight:!1,value:t.transformCode,onContentChange:t.onContentChange,enableFormatting:t.enableFormatting,keyMap:t.keyMap}),a=p.createElement("div",{style:{flex:1,minHeight:0,minWidth:0,position:"relative",display:"flex"}},p.createElement(h.default,{toggleFormatting:t.toggleFormatting,enableFormatting:t.enableFormatting}),r);return p.createElement(v.default,{className:"splitpane",onResize:resize},a,p.createElement(g.default,{transformResult:t.transformResult,mode:t.mode}))}Transformer.propTypes={defaultTransformCode:c.default.string,transformCode:c.default.string,transformer:c.default.object,mode:c.default.string,keyMap:c.default.string,onContentChange:c.default.func,toggleFormatting:c.default.func,enableFormatting:c.default.bool,transformResult:c.default.object}},xeTH:function(t,r,a){"use strict";var o=a("TqRt");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function stringify(t){switch((0,i.default)(t)){case"function":return t.toString().match(/function[^(]*\([^)]*\)/)[0];case"object":return t?JSON.stringify(t,stringify):"null";case"undefined":return"undefined";case"number":case"bigint":return Number.isNaN(t)?"NaN":String(t);default:return JSON.stringify(t)}};var i=o(a("cDf5"))}},[["ERIh",2,1,3]]]);